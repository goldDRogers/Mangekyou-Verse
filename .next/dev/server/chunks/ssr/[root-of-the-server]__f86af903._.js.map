{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 124, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/joshi/.gemini/antigravity/scratch/mangekyou-verse-frontend/services/geminiService.ts"],"sourcesContent":["import { GoogleGenAI, Type } from \"@google/genai\";\r\nimport { Anime } from \"../types\";\r\n\r\nconst getApiKey = () => {\r\n  try {\r\n    return (process.env.NEXT_PUBLIC_GEMINI_API_KEY) ||\r\n      (process.env.GEMINI_API_KEY) ||\r\n      // @ts-ignore\r\n      (import.meta.env?.VITE_GEMINI_API_KEY) ||\r\n      '';\r\n  } catch (e) {\r\n    return '';\r\n  }\r\n};\r\n\r\nconst getAIClient = () => {\r\n  const key = getApiKey();\r\n  if (!key) return null;\r\n  try {\r\n    // For @google/genai v1.34.0\r\n    return new GoogleGenAI({ apiKey: key });\r\n  } catch (e) {\r\n    console.error(\"Failed to initialize GoogleGenAI\", e);\r\n    return null;\r\n  }\r\n};\r\n\r\nconst ai = getAIClient();\r\n\r\nexport const generateAnimeList = async (count: number = 8): Promise<Anime[]> => {\r\n  // Graceful fallback if API fails\r\n  const mockData = Array.from({ length: count }).map((_, i) => ({\r\n    id: `mock-id-${i}`,\r\n    title: `Anime Title ${i + 1}`,\r\n    description: \"This is a fallback description because the AI service is currently unavailable or the API key is missing. Add your Gemini API key to .env for dynamic content.\",\r\n    rating: (Math.random() * 5 + 5).toFixed(1),\r\n    episodes: 12 + i,\r\n    type: 'TV',\r\n    status: 'Finished',\r\n    genres: ['Action', 'Fantasy'],\r\n    thumbnail: `https://picsum.photos/seed/mock${i}/300/400`\r\n  })) as unknown as Anime[];\r\n\r\n  try {\r\n    const key = getApiKey();\r\n    if (!ai || !key) {\r\n      console.warn(\"Gemini API Key missing or client not initialized. Using fallback data.\");\r\n      return mockData;\r\n    }\r\n\r\n    // @ts-ignore\r\n    const response = await ai.models.generateContent({\r\n      model: 'gemini-2.0-flash-exp',\r\n      contents: [{ role: 'user', parts: [{ text: `Generate a list of ${count} fictional anime titles with short descriptions, ratings, genres, types (TV, Movie, OVA, ONA, Special). Provide the data as a clean JSON array.` }] }],\r\n      config: {\r\n        responseMimeType: \"application/json\",\r\n        responseSchema: {\r\n          type: Type.ARRAY,\r\n          items: {\r\n            type: Type.OBJECT,\r\n            properties: {\r\n              id: { type: Type.STRING },\r\n              title: { type: Type.STRING },\r\n              description: { type: Type.STRING },\r\n              rating: { type: Type.NUMBER },\r\n              episodes: { type: Type.NUMBER },\r\n              type: { type: Type.STRING },\r\n              status: { type: Type.STRING },\r\n              genres: { type: Type.ARRAY, items: { type: Type.STRING } }\r\n            },\r\n            required: [\"id\", \"title\", \"description\", \"rating\", \"episodes\", \"type\", \"status\", \"genres\"]\r\n          }\r\n        }\r\n      }\r\n    });\r\n\r\n    // @ts-ignore\r\n    const data = JSON.parse(response.text || '[]');\r\n\r\n    return data.map((item: any) => ({\r\n      ...item,\r\n      thumbnail: `https://picsum.photos/seed/${item.id}/400/600`\r\n    }));\r\n  } catch (error) {\r\n    console.error(\"Error generating anime list:\", error);\r\n    return mockData;\r\n  }\r\n};\r\n\r\nexport const generateThumbnail = async (prompt: string): Promise<string | null> => {\r\n  try {\r\n    if (!ai) return null;\r\n    // @ts-ignore\r\n    const response = await ai.models.generateContent({\r\n      model: 'gemini-2.0-flash-exp',\r\n      contents: [{ role: 'user', parts: [{ text: `High quality anime style illustration for: ${prompt}` }] }]\r\n    });\r\n\r\n    // @ts-ignore\r\n    const candidates = response.candidates || [];\r\n    for (const part of candidates[0]?.content?.parts || []) {\r\n      if (part.inlineData) {\r\n        return `data:image/png;base64,${part.inlineData.data}`;\r\n      }\r\n    }\r\n    return null;\r\n  } catch (error) {\r\n    console.error(\"Error generating thumbnail:\", error);\r\n    return null;\r\n  }\r\n};\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 289, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/joshi/.gemini/antigravity/scratch/mangekyou-verse-frontend/app/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { useState, useEffect, useRef } from 'react';\r\nimport { useRouter } from 'next/navigation';\r\nimport Logo from '@/components/Logo';\r\nimport { generateAnimeList } from '@/services/geminiService';\r\nimport { Anime } from '@/types';\r\nimport { useAuth } from '@/context/AuthContext';\r\nimport Link from 'next/link';\r\n\r\nexport default function HomePage() {\r\n    const [animeList, setAnimeList] = useState<Anime[]>([]);\r\n    const [searchQuery, setSearchQuery] = useState('');\r\n    const [loading, setLoading] = useState(true);\r\n    const router = useRouter();\r\n    const searchContainerRef = useRef<HTMLDivElement>(null);\r\n\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            try {\r\n                const data = await generateAnimeList(8);\r\n                setAnimeList(data);\r\n            } catch (error) {\r\n                console.error(\"Error fetching anime data:\", error);\r\n            } finally {\r\n                setLoading(false);\r\n            }\r\n        };\r\n        fetchData();\r\n    }, []);\r\n\r\n    const handleSearchSubmit = (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n        if (searchQuery.trim()) {\r\n            router.push(`/search?q=${searchQuery}`);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"relative min-h-screen pt-20 pb-20 px-4 md:px-12 selection:bg-brand-primary selection:text-black overflow-x-hidden\">\r\n            {/* Cinematic Hero Section */}\r\n            <div className=\"max-w-7xl mx-auto flex flex-col items-center justify-center min-h-[85vh] text-center space-y-16 animate-fade-in relative z-10\">\r\n\r\n                {/* Project Branding */}\r\n                <div className=\"relative flex items-center gap-10 group cursor-default\">\r\n                    <div className=\"relative z-20 flex flex-col md:flex-row items-center gap-6 md:gap-12\">\r\n                        <Logo className=\"w-24 h-24 md:w-32 md:h-32 transform rotate-12 group-hover:rotate-0 transition-all duration-1000 animate-spin-slow\" />\r\n                        <h1 className=\"text-5xl md:text-8xl font-black text-white tracking-tighter uppercase leading-none drop-shadow-[0_20px_40px_rgba(0,0,0,0.9)]\">\r\n                            Mangekyou<br /><span className=\"text-brand-primary\">Verse</span>\r\n                        </h1>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Tagline */}\r\n                <div className=\"space-y-4\">\r\n                    <p className=\"text-[12px] md:text-[14px] font-black text-gray-400 uppercase tracking-[0.6em] md:tracking-[1em] opacity-80 animate-pulse\">\r\n                        The Ultimate Anime Node\r\n                    </p>\r\n                    <div className=\"h-[2px] w-24 md:w-48 bg-gradient-to-r from-transparent via-brand-primary to-transparent mx-auto\"></div>\r\n                </div>\r\n\r\n                {/* Premium Search Bar */}\r\n                <div className=\"w-full max-w-4xl relative\" ref={searchContainerRef}>\r\n                    <form onSubmit={handleSearchSubmit} className=\"relative group\">\r\n                        <input\r\n                            type=\"text\"\r\n                            placeholder=\"What are you looking for today?\"\r\n                            className=\"w-full h-20 md:h-24 bg-white rounded-[40px] px-12 md:px-16 text-black text-xl md:text-3xl font-bold focus:outline-none focus:ring-[16px] focus:ring-brand-primary/10 transition-all shadow-[0_40px_80px_rgba(0,0,0,0.6)] placeholder:text-gray-400\"\r\n                            value={searchQuery}\r\n                            onChange={(e) => setSearchQuery(e.target.value)}\r\n                        />\r\n                        <button type=\"submit\" className=\"absolute right-4 top-4 bottom-4 w-16 h-16 md:w-20 md:h-20 bg-brand-primary rounded-full flex items-center justify-center text-[#0f1011] text-2xl md:text-4xl hover:bg-[#cbb2f9] transition-all transform hover:scale-105 active:scale-95 shadow-2xl shadow-brand-primary/40\">\r\n                            <i className=\"fa-solid fa-magnifying-glass\"></i>\r\n                        </button>\r\n                    </form>\r\n\r\n                    {/* Trending Tags below search */}\r\n                    <div className=\"mt-8 flex flex-wrap justify-center gap-3 text-[10px] md:text-xs font-black uppercase tracking-widest text-gray-500\">\r\n                        <span className=\"text-gray-700\">Trending Tags:</span>\r\n                        {['Jujutsu Kaisen: The Culling...', 'Sentenced to be a Hero', 'Jujutsu Kaisen 2nd Season', 'One Piece', 'Demon Slayer: Kimetsu No...', 'Solo Leveling'].map((tag) => (\r\n                            <Link key={tag} href={`/search?q=${tag}`} className=\"hover:text-brand-primary transition-colors cursor-pointer bg-white/5 px-4 py-1.5 rounded-full border border-white/10 hover:border-brand-primary/50\">\r\n                                {tag}\r\n                            </Link>\r\n                        ))}\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Smooth Scroll Prompt */}\r\n                <div className=\"flex flex-col items-center gap-4 cursor-pointer hover:text-brand-primary transition-colors group\" onClick={() => window.scrollTo({ top: window.innerHeight, behavior: 'smooth' })}>\r\n                    <span className=\"bg-brand-primary/10 px-8 py-3 rounded-xl border border-brand-primary/20 text-xs font-black uppercase tracking-[0.3em] font-bold\">Continue to Home</span>\r\n                    <div className=\"flex flex-col items-center gap-1\">\r\n                        <span className=\"text-[10px] font-black uppercase tracking-widest text-gray-500 group-hover:text-brand-primary\">Scroll Down</span>\r\n                        <i className=\"fa-solid fa-chevron-down animate-bounce text-brand-primary\"></i>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AAGA;AARA;;;;;;;AAUe,SAAS;IACpB,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,iNAAQ,EAAU,EAAE;IACtD,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,iNAAQ,EAAC;IAC/C,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IACvC,MAAM,SAAS,IAAA,+IAAS;IACxB,MAAM,qBAAqB,IAAA,+MAAM,EAAiB;IAElD,IAAA,kNAAS,EAAC;QACN,MAAM,YAAY;YACd,IAAI;gBACA,MAAM,OAAO,MAAM,IAAA,8IAAiB,EAAC;gBACrC,aAAa;YACjB,EAAE,OAAO,OAAO;gBACZ,QAAQ,KAAK,CAAC,8BAA8B;YAChD,SAAU;gBACN,WAAW;YACf;QACJ;QACA;IACJ,GAAG,EAAE;IAEL,MAAM,qBAAqB,CAAC;QACxB,EAAE,cAAc;QAChB,IAAI,YAAY,IAAI,IAAI;YACpB,OAAO,IAAI,CAAC,CAAC,UAAU,EAAE,aAAa;QAC1C;IACJ;IAEA,qBACI,8OAAC;QAAI,WAAU;kBAEX,cAAA,8OAAC;YAAI,WAAU;;8BAGX,8OAAC;oBAAI,WAAU;8BACX,cAAA,8OAAC;wBAAI,WAAU;;0CACX,8OAAC,8HAAI;gCAAC,WAAU;;;;;;0CAChB,8OAAC;gCAAG,WAAU;;oCAA+H;kDAChI,8OAAC;;;;;kDAAK,8OAAC;wCAAK,WAAU;kDAAqB;;;;;;;;;;;;;;;;;;;;;;;8BAMhE,8OAAC;oBAAI,WAAU;;sCACX,8OAAC;4BAAE,WAAU;sCAA4H;;;;;;sCAGzI,8OAAC;4BAAI,WAAU;;;;;;;;;;;;8BAInB,8OAAC;oBAAI,WAAU;oBAA4B,KAAK;;sCAC5C,8OAAC;4BAAK,UAAU;4BAAoB,WAAU;;8CAC1C,8OAAC;oCACG,MAAK;oCACL,aAAY;oCACZ,WAAU;oCACV,OAAO;oCACP,UAAU,CAAC,IAAM,eAAe,EAAE,MAAM,CAAC,KAAK;;;;;;8CAElD,8OAAC;oCAAO,MAAK;oCAAS,WAAU;8CAC5B,cAAA,8OAAC;wCAAE,WAAU;;;;;;;;;;;;;;;;;sCAKrB,8OAAC;4BAAI,WAAU;;8CACX,8OAAC;oCAAK,WAAU;8CAAgB;;;;;;gCAC/B;oCAAC;oCAAkC;oCAA0B;oCAA6B;oCAAa;oCAA+B;iCAAgB,CAAC,GAAG,CAAC,CAAC,oBACzJ,8OAAC,uKAAI;wCAAW,MAAM,CAAC,UAAU,EAAE,KAAK;wCAAE,WAAU;kDAC/C;uCADM;;;;;;;;;;;;;;;;;8BAQvB,8OAAC;oBAAI,WAAU;oBAAmG,SAAS,IAAM,OAAO,QAAQ,CAAC;4BAAE,KAAK,OAAO,WAAW;4BAAE,UAAU;wBAAS;;sCAC3L,8OAAC;4BAAK,WAAU;sCAAkI;;;;;;sCAClJ,8OAAC;4BAAI,WAAU;;8CACX,8OAAC;oCAAK,WAAU;8CAAgG;;;;;;8CAChH,8OAAC;oCAAE,WAAU;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAMrC"}}]
}