{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/joshi/.gemini/antigravity/scratch/mangekyou-verse-frontend/components/ParticleGrid.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { useEffect, useRef } from 'react';\r\n\r\nconst ParticleGrid: React.FC = () => {\r\n  const canvasRef = useRef<HTMLCanvasElement>(null);\r\n\r\n  useEffect(() => {\r\n    const canvas = canvasRef.current;\r\n    if (!canvas) return;\r\n\r\n    const ctx = canvas.getContext('2d');\r\n    if (!ctx) return;\r\n\r\n    let animationFrameId: number;\r\n    let width: number;\r\n    let height: number;\r\n    let mouse = { x: -2000, y: -2000 };\r\n\r\n    const dots: { x: number; y: number; originX: number; originY: number }[] = [];\r\n    const spacing = 40;\r\n    const mouseRadius = 250;\r\n\r\n    const init = () => {\r\n      // Use client dimensions of the canvas which is set to w-full h-full\r\n      width = canvas.clientWidth || window.innerWidth;\r\n      height = canvas.clientHeight || window.innerHeight;\r\n      canvas.width = width;\r\n      canvas.height = height;\r\n\r\n      dots.length = 0;\r\n      for (let x = spacing / 2; x < width; x += spacing) {\r\n        for (let y = spacing / 2; y < height; y += spacing) {\r\n          dots.push({ x, y, originX: x, originY: y });\r\n        }\r\n      }\r\n    };\r\n\r\n    const onMouseMove = (e: MouseEvent) => {\r\n      const rect = canvas.getBoundingClientRect();\r\n      // Track mouse position relative to the canvas element\r\n      mouse.x = e.clientX - rect.left;\r\n      mouse.y = e.clientY - rect.top;\r\n    };\r\n\r\n    const render = () => {\r\n      ctx.clearRect(0, 0, width, height);\r\n\r\n      dots.forEach((dot) => {\r\n        const dx = mouse.x - dot.originX;\r\n        const dy = mouse.y - dot.originY;\r\n        const dist = Math.sqrt(dx * dx + dy * dy);\r\n\r\n        let shiftX = 0;\r\n        let shiftY = 0;\r\n        let scale = 1;\r\n\r\n        if (dist < mouseRadius) {\r\n          const force = (mouseRadius - dist) / mouseRadius;\r\n          const easedForce = force * force * force;\r\n          shiftX = dx * easedForce * 0.8;\r\n          shiftY = dy * easedForce * 0.8;\r\n          scale = 1 + easedForce * 3.5;\r\n        }\r\n\r\n        dot.x = dot.originX + shiftX;\r\n        dot.y = dot.originY + shiftY;\r\n\r\n        const alpha = dist < mouseRadius ? 0.4 + (0.4 * (1 - dist / mouseRadius)) : 0.12;\r\n        ctx.fillStyle = `rgba(183, 148, 244, ${alpha})`;\r\n\r\n        ctx.beginPath();\r\n        ctx.arc(dot.x, dot.y, 1.4 * scale, 0, Math.PI * 2);\r\n        ctx.fill();\r\n      });\r\n\r\n      animationFrameId = requestAnimationFrame(render);\r\n    };\r\n\r\n    window.addEventListener('resize', init);\r\n    // Bind mousemove to window but calculate relative to canvas\r\n    window.addEventListener('mousemove', onMouseMove);\r\n    init();\r\n    render();\r\n\r\n    return () => {\r\n      window.removeEventListener('resize', init);\r\n      window.removeEventListener('mousemove', onMouseMove);\r\n      cancelAnimationFrame(animationFrameId);\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <canvas\r\n      ref={canvasRef}\r\n      className=\"absolute inset-0 w-full h-full pointer-events-none opacity-50 z-0\"\r\n      style={{ mixBlendMode: 'screen' }}\r\n    />\r\n  );\r\n};\r\n\r\nexport default ParticleGrid;\r\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAIA,MAAM,eAAyB;IAC7B,MAAM,YAAY,IAAA,+MAAM,EAAoB;IAE5C,IAAA,kNAAS,EAAC;QACR,MAAM,SAAS,UAAU,OAAO;QAChC,IAAI,CAAC,QAAQ;QAEb,MAAM,MAAM,OAAO,UAAU,CAAC;QAC9B,IAAI,CAAC,KAAK;QAEV,IAAI;QACJ,IAAI;QACJ,IAAI;QACJ,IAAI,QAAQ;YAAE,GAAG,CAAC;YAAM,GAAG,CAAC;QAAK;QAEjC,MAAM,OAAqE,EAAE;QAC7E,MAAM,UAAU;QAChB,MAAM,cAAc;QAEpB,MAAM,OAAO;YACX,oEAAoE;YACpE,QAAQ,OAAO,WAAW,IAAI,OAAO,UAAU;YAC/C,SAAS,OAAO,YAAY,IAAI,OAAO,WAAW;YAClD,OAAO,KAAK,GAAG;YACf,OAAO,MAAM,GAAG;YAEhB,KAAK,MAAM,GAAG;YACd,IAAK,IAAI,IAAI,UAAU,GAAG,IAAI,OAAO,KAAK,QAAS;gBACjD,IAAK,IAAI,IAAI,UAAU,GAAG,IAAI,QAAQ,KAAK,QAAS;oBAClD,KAAK,IAAI,CAAC;wBAAE;wBAAG;wBAAG,SAAS;wBAAG,SAAS;oBAAE;gBAC3C;YACF;QACF;QAEA,MAAM,cAAc,CAAC;YACnB,MAAM,OAAO,OAAO,qBAAqB;YACzC,sDAAsD;YACtD,MAAM,CAAC,GAAG,EAAE,OAAO,GAAG,KAAK,IAAI;YAC/B,MAAM,CAAC,GAAG,EAAE,OAAO,GAAG,KAAK,GAAG;QAChC;QAEA,MAAM,SAAS;YACb,IAAI,SAAS,CAAC,GAAG,GAAG,OAAO;YAE3B,KAAK,OAAO,CAAC,CAAC;gBACZ,MAAM,KAAK,MAAM,CAAC,GAAG,IAAI,OAAO;gBAChC,MAAM,KAAK,MAAM,CAAC,GAAG,IAAI,OAAO;gBAChC,MAAM,OAAO,KAAK,IAAI,CAAC,KAAK,KAAK,KAAK;gBAEtC,IAAI,SAAS;gBACb,IAAI,SAAS;gBACb,IAAI,QAAQ;gBAEZ,IAAI,OAAO,aAAa;oBACtB,MAAM,QAAQ,CAAC,cAAc,IAAI,IAAI;oBACrC,MAAM,aAAa,QAAQ,QAAQ;oBACnC,SAAS,KAAK,aAAa;oBAC3B,SAAS,KAAK,aAAa;oBAC3B,QAAQ,IAAI,aAAa;gBAC3B;gBAEA,IAAI,CAAC,GAAG,IAAI,OAAO,GAAG;gBACtB,IAAI,CAAC,GAAG,IAAI,OAAO,GAAG;gBAEtB,MAAM,QAAQ,OAAO,cAAc,MAAO,MAAM,CAAC,IAAI,OAAO,WAAW,IAAK;gBAC5E,IAAI,SAAS,GAAG,CAAC,oBAAoB,EAAE,MAAM,CAAC,CAAC;gBAE/C,IAAI,SAAS;gBACb,IAAI,GAAG,CAAC,IAAI,CAAC,EAAE,IAAI,CAAC,EAAE,MAAM,OAAO,GAAG,KAAK,EAAE,GAAG;gBAChD,IAAI,IAAI;YACV;YAEA,mBAAmB,sBAAsB;QAC3C;QAEA,OAAO,gBAAgB,CAAC,UAAU;QAClC,4DAA4D;QAC5D,OAAO,gBAAgB,CAAC,aAAa;QACrC;QACA;QAEA,OAAO;YACL,OAAO,mBAAmB,CAAC,UAAU;YACrC,OAAO,mBAAmB,CAAC,aAAa;YACxC,qBAAqB;QACvB;IACF,GAAG,EAAE;IAEL,qBACE,8OAAC;QACC,KAAK;QACL,WAAU;QACV,OAAO;YAAE,cAAc;QAAS;;;;;;AAGtC;uCAEe"}},
    {"offset": {"line": 108, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/joshi/.gemini/antigravity/scratch/mangekyou-verse-frontend/components/AnimeCard.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React from 'react';\r\nimport Link from 'next/link';\r\nimport { Anime } from '../types';\r\n\r\ninterface AnimeCardProps {\r\n  anime: Anime;\r\n}\r\n\r\nconst AnimeCard: React.FC<AnimeCardProps> = ({ anime }) => {\r\n  return (\r\n    <Link href={`/watch/${anime.id}`} className=\"group block relative animate-slide-up\">\r\n      <div className=\"relative aspect-[3/4] overflow-hidden rounded-xl bg-brand-card border border-white/5 group-hover:border-brand-accent/50 transition-all duration-300\">\r\n        <img\r\n          src={anime.thumbnail}\r\n          alt={anime.title}\r\n          className=\"w-full h-full object-cover transform group-hover:scale-110 transition-transform duration-500\"\r\n          loading=\"lazy\"\r\n        />\r\n\r\n        {/* Badges */}\r\n        <div className=\"absolute top-2 left-2 flex flex-col gap-1 z-10\">\r\n          <span className=\"bg-brand-accent text-white text-[10px] font-bold px-1.5 py-0.5 rounded uppercase\">\r\n            {anime.type}\r\n          </span>\r\n          <span className=\"bg-black/80 text-white text-[10px] font-bold px-1.5 py-0.5 rounded uppercase\">\r\n            Ep {anime.episodes}\r\n          </span>\r\n        </div>\r\n\r\n        {/* Rating */}\r\n        <div className=\"absolute top-2 right-2 z-10\">\r\n          <span className=\"bg-yellow-500/90 text-black text-[10px] font-bold px-1.5 py-0.5 rounded flex items-center gap-1\">\r\n            <i className=\"fa-solid fa-star\"></i>\r\n            {anime.rating}\r\n          </span>\r\n        </div>\r\n\r\n        {/* Overlay */}\r\n        <div className=\"absolute inset-0 bg-gradient-to-t from-black/90 via-black/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex flex-col justify-end p-4\">\r\n          <div className=\"bg-brand-accent text-white rounded-full w-10 h-10 flex items-center justify-center self-center mb-4 translate-y-4 group-hover:translate-y-0 transition-transform duration-300\">\r\n            <i className=\"fa-solid fa-play text-lg\"></i>\r\n          </div>\r\n          <div className=\"flex flex-wrap gap-1 mt-2\">\r\n            {anime.genres.slice(0, 2).map(genre => (\r\n              <span key={genre} className=\"text-[10px] bg-white/10 px-2 py-0.5 rounded-full text-white/80\">\r\n                {genre}\r\n              </span>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"mt-3\">\r\n        <h3 className=\"text-sm font-bold text-gray-100 group-hover:text-brand-accent transition-colors line-clamp-1\">\r\n          {anime.title}\r\n        </h3>\r\n        <p className=\"text-[11px] text-gray-500 mt-1\">\r\n          {anime.status} â€¢ {anime.type}\r\n        </p>\r\n      </div>\r\n    </Link>\r\n  );\r\n};\r\n\r\nexport default AnimeCard;\r\n"],"names":[],"mappings":";;;;;AAGA;AAHA;;;AAUA,MAAM,YAAsC,CAAC,EAAE,KAAK,EAAE;IACpD,qBACE,8OAAC,uKAAI;QAAC,MAAM,CAAC,OAAO,EAAE,MAAM,EAAE,EAAE;QAAE,WAAU;;0BAC1C,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBACC,KAAK,MAAM,SAAS;wBACpB,KAAK,MAAM,KAAK;wBAChB,WAAU;wBACV,SAAQ;;;;;;kCAIV,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAK,WAAU;0CACb,MAAM,IAAI;;;;;;0CAEb,8OAAC;gCAAK,WAAU;;oCAA+E;oCACzF,MAAM,QAAQ;;;;;;;;;;;;;kCAKtB,8OAAC;wBAAI,WAAU;kCACb,cAAA,8OAAC;4BAAK,WAAU;;8CACd,8OAAC;oCAAE,WAAU;;;;;;gCACZ,MAAM,MAAM;;;;;;;;;;;;kCAKjB,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAI,WAAU;0CACb,cAAA,8OAAC;oCAAE,WAAU;;;;;;;;;;;0CAEf,8OAAC;gCAAI,WAAU;0CACZ,MAAM,MAAM,CAAC,KAAK,CAAC,GAAG,GAAG,GAAG,CAAC,CAAA,sBAC5B,8OAAC;wCAAiB,WAAU;kDACzB;uCADQ;;;;;;;;;;;;;;;;;;;;;;0BAQnB,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAG,WAAU;kCACX,MAAM,KAAK;;;;;;kCAEd,8OAAC;wBAAE,WAAU;;4BACV,MAAM,MAAM;4BAAC;4BAAI,MAAM,IAAI;;;;;;;;;;;;;;;;;;;AAKtC;uCAEe"}},
    {"offset": {"line": 272, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/joshi/.gemini/antigravity/scratch/mangekyou-verse-frontend/components/home/SpotlightSlider.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { useState, useEffect } from 'react';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\nimport Link from 'next/link';\r\nimport { Anime } from '../../types';\r\n\r\ninterface SpotlightProps {\r\n    items: any[];\r\n}\r\n\r\nconst SpotlightSlider: React.FC<SpotlightProps> = ({ items }) => {\r\n    const [currentIndex, setCurrentIndex] = useState(0);\r\n    const [paused, setPaused] = useState(false);\r\n\r\n    useEffect(() => {\r\n        if (paused || items.length === 0) return;\r\n        const interval = setInterval(() => {\r\n            setCurrentIndex((prev) => (prev + 1) % items.length);\r\n        }, 5000);\r\n        return () => clearInterval(interval);\r\n    }, [paused, items.length]);\r\n\r\n    const handleNext = () => setCurrentIndex((prev) => (prev + 1) % items.length);\r\n    const handlePrev = () => setCurrentIndex((prev) => (prev - 1 + items.length) % items.length);\r\n\r\n    if (items.length === 0) return null;\r\n\r\n    const currentItem = items[currentIndex];\r\n\r\n    return (\r\n        <div\r\n            className=\"relative h-[600px] w-full overflow-hidden bg-black group\"\r\n            onMouseEnter={() => setPaused(true)}\r\n            onMouseLeave={() => setPaused(false)}\r\n        >\r\n            <AnimatePresence mode='wait'>\r\n                <motion.div\r\n                    key={currentItem.id}\r\n                    initial={{ opacity: 0 }}\r\n                    animate={{ opacity: 1 }}\r\n                    exit={{ opacity: 0 }}\r\n                    transition={{ duration: 0.7 }}\r\n                    className=\"absolute inset-0\"\r\n                >\r\n                    {/* Background Image */}\r\n                    <div className=\"absolute inset-0\">\r\n                        <img src={currentItem.banner} alt={currentItem.title} className=\"w-full h-full object-cover opacity-60\" />\r\n                        <div className=\"absolute inset-0 bg-gradient-to-r from-[#0f1011] via-[#0f1011]/60 to-transparent\" />\r\n                        <div className=\"absolute inset-0 bg-gradient-to-t from-[#0f1011] via-transparent to-transparent\" />\r\n                    </div>\r\n\r\n                    {/* Content */}\r\n                    <div className=\"relative z-10 h-full max-w-7xl mx-auto px-6 md:px-12 flex flex-col justify-center\">\r\n                        <motion.div\r\n                            initial={{ y: 30, opacity: 0 }}\r\n                            animate={{ y: 0, opacity: 1 }}\r\n                            transition={{ delay: 0.3, duration: 0.5 }}\r\n                            className=\"max-w-2xl space-y-6\"\r\n                        >\r\n                            <div className=\"text-brand-primary font-black uppercase tracking-[0.3em] text-sm md:text-base flex items-center gap-3\">\r\n                                <span className=\"text-4xl text-transparent bg-clip-text bg-gradient-to-r from-brand-primary to-purple-500 font-extrabold italic\">#{currentItem.rank}</span> Spotlight\r\n                            </div>\r\n\r\n                            <h2 className=\"text-4xl md:text-6xl font-black text-white leading-tight line-clamp-2 uppercase tracking-tighter drop-shadow-lg\">\r\n                                {currentItem.title}\r\n                            </h2>\r\n\r\n                            <div className=\"flex items-center gap-4 text-xs font-bold text-gray-300 uppercase tracking-widest\">\r\n                                <span className=\"bg-white/10 px-3 py-1 rounded-sm border border-white/10\"><i className=\"fa-solid fa-tv mr-2\"></i>{currentItem.type}</span>\r\n                                <span className=\"bg-white/10 px-3 py-1 rounded-sm border border-white/10\"><i className=\"fa-solid fa-clock mr-2\"></i>{currentItem.duration}</span>\r\n                                <span className=\"bg-green-500/20 text-green-400 px-3 py-1 rounded-sm border border-green-500/20\">{currentItem.quality}</span>\r\n                            </div>\r\n\r\n                            <p className=\"text-gray-400 text-sm md:text-base leading-relaxed line-clamp-3 font-medium max-w-xl\">\r\n                                {currentItem.description}\r\n                            </p>\r\n\r\n                            <div className=\"flex items-center gap-4 pt-4\">\r\n                                <Link\r\n                                    href={`/watch/${currentItem.id}`}\r\n                                    className=\"bg-brand-primary text-[#0f1011] px-10 py-4 rounded-full font-black uppercase tracking-widest text-sm hover:scale-105 transition-transform flex items-center gap-3 shadow-lg shadow-brand-primary/20\"\r\n                                >\r\n                                    <i className=\"fa-solid fa-play\"></i> Watch Now\r\n                                </Link>\r\n                                <Link\r\n                                    href={`/watch/${currentItem.id}`}\r\n                                    className=\"bg-white/5 border border-white/10 text-white px-10 py-4 rounded-full font-black uppercase tracking-widest text-sm hover:bg-white/10 transition-all flex items-center gap-3 backdrop-blur-md\"\r\n                                >\r\n                                    Details <i className=\"fa-solid fa-chevron-right text-xs\"></i>\r\n                                </Link>\r\n                            </div>\r\n                        </motion.div>\r\n                    </div>\r\n                </motion.div>\r\n            </AnimatePresence>\r\n\r\n            {/* Navigation Arrows */}\r\n            <button\r\n                onClick={handlePrev}\r\n                className=\"absolute left-4 md:left-8 top-1/2 -translate-y-1/2 z-20 w-12 h-12 md:w-16 md:h-16 rounded-full border border-white/10 bg-black/50 text-white flex items-center justify-center hover:bg-brand-primary hover:text-black hover:border-brand-primary transition-all opacity-0 group-hover:opacity-100 duration-300\"\r\n            >\r\n                <i className=\"fa-solid fa-chevron-left text-xl\"></i>\r\n            </button>\r\n            <button\r\n                onClick={handleNext}\r\n                className=\"absolute right-4 md:right-8 top-1/2 -translate-y-1/2 z-20 w-12 h-12 md:w-16 md:h-16 rounded-full border border-white/10 bg-black/50 text-white flex items-center justify-center hover:bg-brand-primary hover:text-black hover:border-brand-primary transition-all opacity-0 group-hover:opacity-100 duration-300\"\r\n            >\r\n                <i className=\"fa-solid fa-chevron-right text-xl\"></i>\r\n            </button>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default SpotlightSlider;\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 571, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/joshi/.gemini/antigravity/scratch/mangekyou-verse-frontend/components/home/TrendingCarousel.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { useRef } from 'react';\r\nimport Link from 'next/link';\r\nimport { motion } from 'framer-motion';\r\n\r\ninterface TrendingProps {\r\n    items: any[];\r\n}\r\n\r\nconst TrendingCarousel: React.FC<TrendingProps> = ({ items }) => {\r\n    const scrollRef = useRef<HTMLDivElement>(null);\r\n\r\n    const scroll = (direction: 'left' | 'right') => {\r\n        if (scrollRef.current) {\r\n            const { current } = scrollRef;\r\n            const scrollAmount = direction === 'left' ? -300 : 300;\r\n            current.scrollBy({ left: scrollAmount, behavior: 'smooth' });\r\n        }\r\n    };\r\n\r\n    if (items.length === 0) return null;\r\n\r\n    return (\r\n        <div className=\"relative group\">\r\n            <div className=\"flex items-center justify-between mb-8 px-4 md:px-8\">\r\n                <h3 className=\"text-3xl font-black text-white uppercase tracking-tighter flex items-center gap-4\">\r\n                    <span className=\"text-brand-primary\">#</span> Trending Now\r\n                </h3>\r\n                <div className=\"flex gap-2\">\r\n                    <button onClick={() => scroll('left')} className=\"w-10 h-10 rounded-full border border-white/10 flex items-center justify-center text-white hover:bg-brand-primary hover:text-black transition-all\">\r\n                        <i className=\"fa-solid fa-chevron-left\"></i>\r\n                    </button>\r\n                    <button onClick={() => scroll('right')} className=\"w-10 h-10 rounded-full border border-white/10 flex items-center justify-center text-white hover:bg-brand-primary hover:text-black transition-all\">\r\n                        <i className=\"fa-solid fa-chevron-right\"></i>\r\n                    </button>\r\n                </div>\r\n            </div>\r\n\r\n            <div\r\n                ref={scrollRef}\r\n                className=\"flex gap-6 overflow-x-auto pb-8 px-4 md:px-8 scrollbar-hide snap-x snap-mandatory\"\r\n                style={{ scrollbarWidth: 'none', msOverflowStyle: 'none' }}\r\n            >\r\n                {items.map((item, idx) => (\r\n                    <motion.div\r\n                        key={item.id}\r\n                        className=\"flex-shrink-0 w-[200px] md:w-[240px] snap-start relative group/card\"\r\n                        whileHover={{ scale: 1.05 }}\r\n                        transition={{ duration: 0.3 }}\r\n                    >\r\n                        <Link href={`/watch/${item.id}`} className=\"block relative aspect-[3/4] rounded-2xl overflow-hidden bg-gray-900 border border-white/5 shadow-2xl\">\r\n                            {/* Rank Badge */}\r\n                            <div className=\"absolute top-0 left-0 bg-brand-primary text-black font-black text-xl px-4 py-2 rounded-br-2xl z-10 shadow-lg\">\r\n                                #{item.rank}\r\n                            </div>\r\n\r\n                            <img src={item.poster} alt={item.title} className=\"w-full h-full object-cover opacity-80 group-hover/card:opacity-100 transition-opacity\" />\r\n\r\n                            {/* Hover Overlay */}\r\n                            <div className=\"absolute inset-0 bg-gradient-to-t from-black via-transparent to-transparent opacity-60 group-hover/card:opacity-90 transition-opacity\" />\r\n\r\n                            <div className=\"absolute bottom-0 left-0 p-4 w-full\">\r\n                                <h4 className=\"text-white font-black uppercase text-sm leading-tight line-clamp-2 drop-shadow-md group-hover/card:text-brand-primary transition-colors\">\r\n                                    {item.title}\r\n                                </h4>\r\n                            </div>\r\n                        </Link>\r\n                    </motion.div>\r\n                ))}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default TrendingCarousel;\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAUA,MAAM,mBAA4C,CAAC,EAAE,KAAK,EAAE;IACxD,MAAM,YAAY,IAAA,+MAAM,EAAiB;IAEzC,MAAM,SAAS,CAAC;QACZ,IAAI,UAAU,OAAO,EAAE;YACnB,MAAM,EAAE,OAAO,EAAE,GAAG;YACpB,MAAM,eAAe,cAAc,SAAS,CAAC,MAAM;YACnD,QAAQ,QAAQ,CAAC;gBAAE,MAAM;gBAAc,UAAU;YAAS;QAC9D;IACJ;IAEA,IAAI,MAAM,MAAM,KAAK,GAAG,OAAO;IAE/B,qBACI,8OAAC;QAAI,WAAU;;0BACX,8OAAC;gBAAI,WAAU;;kCACX,8OAAC;wBAAG,WAAU;;0CACV,8OAAC;gCAAK,WAAU;0CAAqB;;;;;;4BAAQ;;;;;;;kCAEjD,8OAAC;wBAAI,WAAU;;0CACX,8OAAC;gCAAO,SAAS,IAAM,OAAO;gCAAS,WAAU;0CAC7C,cAAA,8OAAC;oCAAE,WAAU;;;;;;;;;;;0CAEjB,8OAAC;gCAAO,SAAS,IAAM,OAAO;gCAAU,WAAU;0CAC9C,cAAA,8OAAC;oCAAE,WAAU;;;;;;;;;;;;;;;;;;;;;;;0BAKzB,8OAAC;gBACG,KAAK;gBACL,WAAU;gBACV,OAAO;oBAAE,gBAAgB;oBAAQ,iBAAiB;gBAAO;0BAExD,MAAM,GAAG,CAAC,CAAC,MAAM,oBACd,8OAAC,oMAAM,CAAC,GAAG;wBAEP,WAAU;wBACV,YAAY;4BAAE,OAAO;wBAAK;wBAC1B,YAAY;4BAAE,UAAU;wBAAI;kCAE5B,cAAA,8OAAC,uKAAI;4BAAC,MAAM,CAAC,OAAO,EAAE,KAAK,EAAE,EAAE;4BAAE,WAAU;;8CAEvC,8OAAC;oCAAI,WAAU;;wCAA+G;wCACxH,KAAK,IAAI;;;;;;;8CAGf,8OAAC;oCAAI,KAAK,KAAK,MAAM;oCAAE,KAAK,KAAK,KAAK;oCAAE,WAAU;;;;;;8CAGlD,8OAAC;oCAAI,WAAU;;;;;;8CAEf,8OAAC;oCAAI,WAAU;8CACX,cAAA,8OAAC;wCAAG,WAAU;kDACT,KAAK,KAAK;;;;;;;;;;;;;;;;;uBAlBlB,KAAK,EAAE;;;;;;;;;;;;;;;;AA2BpC;uCAEe"}},
    {"offset": {"line": 755, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/joshi/.gemini/antigravity/scratch/mangekyou-verse-frontend/components/home/Top10Sidebar.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { useState } from 'react';\r\nimport { Anime } from '../../types';\r\nimport Link from 'next/link';\r\n\r\ninterface Top10SidebarProps {\r\n    items: Anime[];\r\n}\r\n\r\nconst Top10Sidebar: React.FC<Top10SidebarProps> = ({ items }) => {\r\n    const [activeTab, setActiveTab] = useState<'day' | 'week' | 'month'>('day');\r\n\r\n    return (\r\n        <div className=\"bg-[#1f2026] rounded-t-lg overflow-hidden\">\r\n            {/* Header with Tabs */}\r\n            <div className=\"flex items-center justify-between p-4 bg-[#2a2c31] border-b border-white/5\">\r\n                <h3 className=\"text-lg font-bold text-brand-primary uppercase tracking-wider\">Top 10</h3>\r\n                <div className=\"flex bg-[#121315] rounded-lg p-1\">\r\n                    {['day', 'week', 'month'].map((tab) => (\r\n                        <button\r\n                            key={tab}\r\n                            onClick={() => setActiveTab(tab as any)}\r\n                            className={`px-3 py-1 text-xs font-bold rounded-md uppercase transition-all ${activeTab === tab\r\n                                ? 'bg-brand-primary text-black'\r\n                                : 'text-gray-400 hover:text-white'\r\n                                }`}\r\n                        >\r\n                            {tab}\r\n                        </button>\r\n                    ))}\r\n                </div>\r\n            </div>\r\n\r\n            {/* List */}\r\n            <div className=\"flex flex-col\">\r\n                {items.slice(0, 10).map((anime, index) => (\r\n                    <Link\r\n                        href={`/watch/${anime.id}`}\r\n                        key={anime.id}\r\n                        className={`flex items-center gap-4 p-4 hover:bg-white/5 transition-colors border-b border-white/5 group relative ${index < 3 ? 'pl-4' : 'pl-6'}`}\r\n                    >\r\n                        {/* Rank Number */}\r\n                        <div className={`text-3xl font-black italic w-8 text-center ${index + 1 === 1 ? 'text-brand-primary' :\r\n                            index + 1 === 2 ? 'text-[#00e396]' :\r\n                                index + 1 === 3 ? 'text-[#feb019]' : 'text-gray-600'\r\n                            } opacity-80 group-hover:opacity-100`}>\r\n                            {index < 9 ? `0${index + 1}` : index + 1}\r\n                        </div>\r\n\r\n                        {/* Thumbnail */}\r\n                        <div className=\"relative w-14 h-20 flex-shrink-0 rounded-md overflow-hidden\">\r\n                            <img\r\n                                src={anime.thumbnail}\r\n                                alt={anime.title}\r\n                                className=\"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300\"\r\n                            />\r\n                        </div>\r\n\r\n                        {/* Details */}\r\n                        <div className=\"flex flex-col gap-1 overflow-hidden\">\r\n                            <h4 className=\"text-sm font-bold text-white group-hover:text-brand-primary truncate transition-colors\">\r\n                                {anime.title}\r\n                            </h4>\r\n                            <div className=\"flex items-center gap-2\">\r\n                                <span className=\"text-[10px] bg-white/10 px-1.5 py-0.5 rounded text-gray-300 border border-white/5\">\r\n                                    <i className=\"fa-regular fa-closed-captioning mr-1\"></i>{anime.episodes}\r\n                                </span>\r\n                                <span className=\"text-[10px] bg-white/10 px-1.5 py-0.5 rounded text-gray-300 border border-white/5\">\r\n                                    <i className=\"fa-solid fa-microphone mr-1\"></i>{Math.max(0, anime.episodes - 2)}\r\n                                </span>\r\n                                <span className=\"w-1 h-1 bg-gray-600 rounded-full\"></span>\r\n                                <span className=\"text-[11px] text-gray-400 font-medium lowercase first-letter:uppercase\">{anime.type}</span>\r\n                            </div>\r\n                        </div>\r\n                    </Link>\r\n                ))}\r\n            </div>\r\n\r\n            {/* Show More */}\r\n            <div className=\"p-3 bg-[#2a2c31] text-center\">\r\n                <button className=\"text-xs font-bold text-gray-400 hover:text-white transition-colors uppercase tracking-widest w-full py-2\">\r\n                    View Full List <i className=\"fa-solid fa-chevron-right ml-1 text-[10px]\"></i>\r\n                </button>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Top10Sidebar;\r\n"],"names":[],"mappings":";;;;;AAEA;AAEA;AAJA;;;;AAUA,MAAM,eAA4C,CAAC,EAAE,KAAK,EAAE;IACxD,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,iNAAQ,EAA2B;IAErE,qBACI,8OAAC;QAAI,WAAU;;0BAEX,8OAAC;gBAAI,WAAU;;kCACX,8OAAC;wBAAG,WAAU;kCAAgE;;;;;;kCAC9E,8OAAC;wBAAI,WAAU;kCACV;4BAAC;4BAAO;4BAAQ;yBAAQ,CAAC,GAAG,CAAC,CAAC,oBAC3B,8OAAC;gCAEG,SAAS,IAAM,aAAa;gCAC5B,WAAW,CAAC,gEAAgE,EAAE,cAAc,MACtF,gCACA,kCACA;0CAEL;+BAPI;;;;;;;;;;;;;;;;0BAcrB,8OAAC;gBAAI,WAAU;0BACV,MAAM,KAAK,CAAC,GAAG,IAAI,GAAG,CAAC,CAAC,OAAO,sBAC5B,8OAAC,uKAAI;wBACD,MAAM,CAAC,OAAO,EAAE,MAAM,EAAE,EAAE;wBAE1B,WAAW,CAAC,sGAAsG,EAAE,QAAQ,IAAI,SAAS,QAAQ;;0CAGjJ,8OAAC;gCAAI,WAAW,CAAC,2CAA2C,EAAE,QAAQ,MAAM,IAAI,uBAC5E,QAAQ,MAAM,IAAI,mBACd,QAAQ,MAAM,IAAI,mBAAmB,gBACxC,mCAAmC,CAAC;0CACpC,QAAQ,IAAI,CAAC,CAAC,EAAE,QAAQ,GAAG,GAAG,QAAQ;;;;;;0CAI3C,8OAAC;gCAAI,WAAU;0CACX,cAAA,8OAAC;oCACG,KAAK,MAAM,SAAS;oCACpB,KAAK,MAAM,KAAK;oCAChB,WAAU;;;;;;;;;;;0CAKlB,8OAAC;gCAAI,WAAU;;kDACX,8OAAC;wCAAG,WAAU;kDACT,MAAM,KAAK;;;;;;kDAEhB,8OAAC;wCAAI,WAAU;;0DACX,8OAAC;gDAAK,WAAU;;kEACZ,8OAAC;wDAAE,WAAU;;;;;;oDAA4C,MAAM,QAAQ;;;;;;;0DAE3E,8OAAC;gDAAK,WAAU;;kEACZ,8OAAC;wDAAE,WAAU;;;;;;oDAAmC,KAAK,GAAG,CAAC,GAAG,MAAM,QAAQ,GAAG;;;;;;;0DAEjF,8OAAC;gDAAK,WAAU;;;;;;0DAChB,8OAAC;gDAAK,WAAU;0DAA0E,MAAM,IAAI;;;;;;;;;;;;;;;;;;;uBAjCvG,MAAM,EAAE;;;;;;;;;;0BAyCzB,8OAAC;gBAAI,WAAU;0BACX,cAAA,8OAAC;oBAAO,WAAU;;wBAA2G;sCAC1G,8OAAC;4BAAE,WAAU;;;;;;;;;;;;;;;;;;;;;;;AAKhD;uCAEe"}},
    {"offset": {"line": 960, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/joshi/.gemini/antigravity/scratch/mangekyou-verse-frontend/services/watchlistService.ts"],"sourcesContent":["import { supabase } from '../lib/supabaseClient';\r\n\r\nexport const watchlistService = {\r\n    async getWatchlist() {\r\n        const { data: { user } } = await supabase.auth.getUser();\r\n        if (!user) return [];\r\n\r\n        const { data, error } = await supabase\r\n            .from('watchlist')\r\n            .select('*')\r\n            .eq('user_id', user.id)\r\n            .order('created_at', { ascending: false });\r\n\r\n        if (error) throw error;\r\n        return data;\r\n    },\r\n\r\n    async toggleWatchlist(animeId: string) {\r\n        const { data: { user } } = await supabase.auth.getUser();\r\n        if (!user) throw new Error(\"Must be logged in\");\r\n\r\n        // Check if exists\r\n        const { data: existing } = await supabase\r\n            .from('watchlist')\r\n            .select('id')\r\n            .eq('user_id', user.id)\r\n            .eq('anime_id', animeId)\r\n            .single();\r\n\r\n        if (existing) {\r\n            // Remove\r\n            const { error } = await supabase\r\n                .from('watchlist')\r\n                .delete()\r\n                .eq('id', existing.id);\r\n            if (error) throw error;\r\n            return false; // Not in watchlist anymore\r\n        } else {\r\n            // Add\r\n            const { error } = await supabase\r\n                .from('watchlist')\r\n                .insert([{ user_id: user.id, anime_id: animeId }]);\r\n            if (error) throw error;\r\n            return true; // In watchlist now\r\n        }\r\n    },\r\n\r\n    async isInWatchlist(animeId: string) {\r\n        const { data: { user } } = await supabase.auth.getUser();\r\n        if (!user) return false;\r\n\r\n        const { data, error } = await supabase\r\n            .from('watchlist')\r\n            .select('id')\r\n            .eq('user_id', user.id)\r\n            .eq('anime_id', animeId)\r\n            .maybeSingle();\r\n\r\n        return !!data;\r\n    }\r\n};\r\n\r\nexport const historyService = {\r\n    async getHistory() {\r\n        const { data: { user } } = await supabase.auth.getUser();\r\n        if (!user) return [];\r\n\r\n        const { data, error } = await supabase\r\n            .from('watch_history')\r\n            .select('*')\r\n            .eq('user_id', user.id)\r\n            .order('updated_at', { ascending: false });\r\n\r\n        if (error) throw error;\r\n        return data;\r\n    },\r\n\r\n    async updateProgress(animeId: string, episodeId: string, seconds: number) {\r\n        const { data: { user } } = await supabase.auth.getUser();\r\n        if (!user) return;\r\n\r\n        // Upsert the progress\r\n        const { error } = await supabase\r\n            .from('watch_history')\r\n            .upsert({\r\n                user_id: user.id,\r\n                anime_id: animeId,\r\n                episode_id: episodeId,\r\n                progress_seconds: seconds,\r\n                updated_at: new Date().toISOString()\r\n            }, {\r\n                onConflict: 'user_id, anime_id'\r\n            });\r\n\r\n        if (error) console.error(\"Failed to update history\", error);\r\n    }\r\n};\r\n"],"names":[],"mappings":";;;;;;AAAA;;AAEO,MAAM,mBAAmB;IAC5B,MAAM;QACF,MAAM,EAAE,MAAM,EAAE,IAAI,EAAE,EAAE,GAAG,MAAM,iIAAQ,CAAC,IAAI,CAAC,OAAO;QACtD,IAAI,CAAC,MAAM,OAAO,EAAE;QAEpB,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,iIAAQ,CACjC,IAAI,CAAC,aACL,MAAM,CAAC,KACP,EAAE,CAAC,WAAW,KAAK,EAAE,EACrB,KAAK,CAAC,cAAc;YAAE,WAAW;QAAM;QAE5C,IAAI,OAAO,MAAM;QACjB,OAAO;IACX;IAEA,MAAM,iBAAgB,OAAe;QACjC,MAAM,EAAE,MAAM,EAAE,IAAI,EAAE,EAAE,GAAG,MAAM,iIAAQ,CAAC,IAAI,CAAC,OAAO;QACtD,IAAI,CAAC,MAAM,MAAM,IAAI,MAAM;QAE3B,kBAAkB;QAClB,MAAM,EAAE,MAAM,QAAQ,EAAE,GAAG,MAAM,iIAAQ,CACpC,IAAI,CAAC,aACL,MAAM,CAAC,MACP,EAAE,CAAC,WAAW,KAAK,EAAE,EACrB,EAAE,CAAC,YAAY,SACf,MAAM;QAEX,IAAI,UAAU;YACV,SAAS;YACT,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,iIAAQ,CAC3B,IAAI,CAAC,aACL,MAAM,GACN,EAAE,CAAC,MAAM,SAAS,EAAE;YACzB,IAAI,OAAO,MAAM;YACjB,OAAO,OAAO,2BAA2B;QAC7C,OAAO;YACH,MAAM;YACN,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,iIAAQ,CAC3B,IAAI,CAAC,aACL,MAAM,CAAC;gBAAC;oBAAE,SAAS,KAAK,EAAE;oBAAE,UAAU;gBAAQ;aAAE;YACrD,IAAI,OAAO,MAAM;YACjB,OAAO,MAAM,mBAAmB;QACpC;IACJ;IAEA,MAAM,eAAc,OAAe;QAC/B,MAAM,EAAE,MAAM,EAAE,IAAI,EAAE,EAAE,GAAG,MAAM,iIAAQ,CAAC,IAAI,CAAC,OAAO;QACtD,IAAI,CAAC,MAAM,OAAO;QAElB,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,iIAAQ,CACjC,IAAI,CAAC,aACL,MAAM,CAAC,MACP,EAAE,CAAC,WAAW,KAAK,EAAE,EACrB,EAAE,CAAC,YAAY,SACf,WAAW;QAEhB,OAAO,CAAC,CAAC;IACb;AACJ;AAEO,MAAM,iBAAiB;IAC1B,MAAM;QACF,MAAM,EAAE,MAAM,EAAE,IAAI,EAAE,EAAE,GAAG,MAAM,iIAAQ,CAAC,IAAI,CAAC,OAAO;QACtD,IAAI,CAAC,MAAM,OAAO,EAAE;QAEpB,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,iIAAQ,CACjC,IAAI,CAAC,iBACL,MAAM,CAAC,KACP,EAAE,CAAC,WAAW,KAAK,EAAE,EACrB,KAAK,CAAC,cAAc;YAAE,WAAW;QAAM;QAE5C,IAAI,OAAO,MAAM;QACjB,OAAO;IACX;IAEA,MAAM,gBAAe,OAAe,EAAE,SAAiB,EAAE,OAAe;QACpE,MAAM,EAAE,MAAM,EAAE,IAAI,EAAE,EAAE,GAAG,MAAM,iIAAQ,CAAC,IAAI,CAAC,OAAO;QACtD,IAAI,CAAC,MAAM;QAEX,sBAAsB;QACtB,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,iIAAQ,CAC3B,IAAI,CAAC,iBACL,MAAM,CAAC;YACJ,SAAS,KAAK,EAAE;YAChB,UAAU;YACV,YAAY;YACZ,kBAAkB;YAClB,YAAY,IAAI,OAAO,WAAW;QACtC,GAAG;YACC,YAAY;QAChB;QAEJ,IAAI,OAAO,QAAQ,KAAK,CAAC,4BAA4B;IACzD;AACJ"}},
    {"offset": {"line": 1037, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/joshi/.gemini/antigravity/scratch/mangekyou-verse-frontend/components/home/ContinueWatching.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { useEffect, useState } from 'react';\r\nimport { historyService } from '@/services/watchlistService';\r\nimport { useAuth } from '@/context/AuthContext';\r\nimport Link from 'next/link';\r\nimport { motion } from 'framer-motion';\r\n\r\nexport default function ContinueWatching() {\r\n    const { user } = useAuth();\r\n    const [history, setHistory] = useState<any[]>([]);\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    useEffect(() => {\r\n        if (!user) return;\r\n\r\n        const fetchHistory = async () => {\r\n            try {\r\n                const data = await historyService.getHistory();\r\n                setHistory(data.slice(0, 6)); // Show top 6 latest\r\n            } catch (err) {\r\n                console.error(err);\r\n            } finally {\r\n                setLoading(false);\r\n            }\r\n        };\r\n\r\n        fetchHistory();\r\n    }, [user]);\r\n\r\n    if (!user || (!loading && history.length === 0)) return null;\r\n\r\n    return (\r\n        <section className=\"mt-12 px-4 md:px-0\">\r\n            <div className=\"flex items-center justify-between mb-8\">\r\n                <h2 className=\"text-2xl font-black text-white uppercase tracking-tighter flex items-center gap-3\">\r\n                    <span className=\"w-1 h-8 bg-brand-primary rounded-full\"></span>\r\n                    Continue Watching\r\n                </h2>\r\n                <Link href=\"/history\" className=\"text-[10px] font-black uppercase tracking-[0.2em] text-gray-500 hover:text-white transition-colors\">\r\n                    Full History <i className=\"fa-solid fa-arrow-right ml-2 text-brand-primary\"></i>\r\n                </Link>\r\n            </div>\r\n\r\n            <div className=\"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-6\">\r\n                {loading ? (\r\n                    Array.from({ length: 4 }).map((_, i) => (\r\n                        <div key={i} className=\"aspect-video bg-[#1c1d21] rounded-2xl animate-pulse\"></div>\r\n                    ))\r\n                ) : (\r\n                    history.map((item) => (\r\n                        <Link\r\n                            key={item.id}\r\n                            href={`/watch/${item.anime_id}?ep=${item.episode_id}`}\r\n                            className=\"group relative\"\r\n                        >\r\n                            <motion.div\r\n                                whileHover={{ scale: 1.05 }}\r\n                                className=\"relative aspect-video rounded-2xl overflow-hidden bg-[#1c1d21] border border-white/5 group-hover:border-brand-primary/30 transition-all shadow-2xl\"\r\n                            >\r\n                                {/* Poster with Blur Overlay */}\r\n                                <img\r\n                                    src={`https://picsum.photos/seed/${item.anime_id}/300/200`}\r\n                                    alt=\"Anime Title\"\r\n                                    className=\"w-full h-full object-cover opacity-60 group-hover:opacity-100 transition-opacity\"\r\n                                />\r\n\r\n                                {/* Progress Bar (HiAnime Style) */}\r\n                                <div className=\"absolute bottom-0 left-0 w-full h-1.5 bg-black/40\">\r\n                                    <div\r\n                                        className=\"h-full bg-brand-primary shadow-[0_0_10px_rgba(183,148,244,0.8)]\"\r\n                                        style={{ width: '45%' }} // Mock progress for demo\r\n                                    ></div>\r\n                                </div>\r\n\r\n                                <div className=\"absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity\">\r\n                                    <div className=\"w-10 h-10 bg-brand-primary rounded-full flex items-center justify-center text-[#0f1011] shadow-2xl\">\r\n                                        <i className=\"fa-solid fa-play ml-1\"></i>\r\n                                    </div>\r\n                                </div>\r\n                            </motion.div>\r\n\r\n                            <div className=\"mt-3 px-2\">\r\n                                <h4 className=\"text-[11px] font-black text-white uppercase tracking-widest line-clamp-1 group-hover:text-brand-primary transition-colors\">\r\n                                    {item.anime_id.split('-').join(' ')}\r\n                                </h4>\r\n                                <p className=\"text-[9px] font-bold text-gray-500 uppercase tracking-widest mt-1\">\r\n                                    Episode {item.episode_id}\r\n                                </p>\r\n                            </div>\r\n                        </Link>\r\n                    ))\r\n                )}\r\n            </div>\r\n        </section>\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AANA;;;;;;;AAQe,SAAS;IACpB,MAAM,EAAE,IAAI,EAAE,GAAG,IAAA,kIAAO;IACxB,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAQ,EAAE;IAChD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IAEvC,IAAA,kNAAS,EAAC;QACN,IAAI,CAAC,MAAM;QAEX,MAAM,eAAe;YACjB,IAAI;gBACA,MAAM,OAAO,MAAM,8IAAc,CAAC,UAAU;gBAC5C,WAAW,KAAK,KAAK,CAAC,GAAG,KAAK,oBAAoB;YACtD,EAAE,OAAO,KAAK;gBACV,QAAQ,KAAK,CAAC;YAClB,SAAU;gBACN,WAAW;YACf;QACJ;QAEA;IACJ,GAAG;QAAC;KAAK;IAET,IAAI,CAAC,QAAS,CAAC,WAAW,QAAQ,MAAM,KAAK,GAAI,OAAO;IAExD,qBACI,8OAAC;QAAQ,WAAU;;0BACf,8OAAC;gBAAI,WAAU;;kCACX,8OAAC;wBAAG,WAAU;;0CACV,8OAAC;gCAAK,WAAU;;;;;;4BAA+C;;;;;;;kCAGnE,8OAAC,uKAAI;wBAAC,MAAK;wBAAW,WAAU;;4BAAqG;0CACpH,8OAAC;gCAAE,WAAU;;;;;;;;;;;;;;;;;;0BAIlC,8OAAC;gBAAI,WAAU;0BACV,UACG,MAAM,IAAI,CAAC;oBAAE,QAAQ;gBAAE,GAAG,GAAG,CAAC,CAAC,GAAG,kBAC9B,8OAAC;wBAAY,WAAU;uBAAb;;;;gCAGd,QAAQ,GAAG,CAAC,CAAC,qBACT,8OAAC,uKAAI;wBAED,MAAM,CAAC,OAAO,EAAE,KAAK,QAAQ,CAAC,IAAI,EAAE,KAAK,UAAU,EAAE;wBACrD,WAAU;;0CAEV,8OAAC,oMAAM,CAAC,GAAG;gCACP,YAAY;oCAAE,OAAO;gCAAK;gCAC1B,WAAU;;kDAGV,8OAAC;wCACG,KAAK,CAAC,2BAA2B,EAAE,KAAK,QAAQ,CAAC,QAAQ,CAAC;wCAC1D,KAAI;wCACJ,WAAU;;;;;;kDAId,8OAAC;wCAAI,WAAU;kDACX,cAAA,8OAAC;4CACG,WAAU;4CACV,OAAO;gDAAE,OAAO;4CAAM;;;;;;;;;;;kDAI9B,8OAAC;wCAAI,WAAU;kDACX,cAAA,8OAAC;4CAAI,WAAU;sDACX,cAAA,8OAAC;gDAAE,WAAU;;;;;;;;;;;;;;;;;;;;;;0CAKzB,8OAAC;gCAAI,WAAU;;kDACX,8OAAC;wCAAG,WAAU;kDACT,KAAK,QAAQ,CAAC,KAAK,CAAC,KAAK,IAAI,CAAC;;;;;;kDAEnC,8OAAC;wCAAE,WAAU;;4CAAoE;4CACpE,KAAK,UAAU;;;;;;;;;;;;;;uBAnC3B,KAAK,EAAE;;;;;;;;;;;;;;;;AA4CxC"}},
    {"offset": {"line": 1365, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/joshi/.gemini/antigravity/scratch/mangekyou-verse-frontend/services/geminiService.ts"],"sourcesContent":["import { GoogleGenAI, Type } from \"@google/genai\";\r\nimport { Anime } from \"../types\";\r\n\r\nconst CACHE_KEY = 'mangekyou_anime_cache';\r\nconst CACHE_EXPIRY = 1000 * 60 * 60; // 1 hour\r\n\r\nconst getApiKey = () => {\r\n  try {\r\n    return (process.env.NEXT_PUBLIC_GEMINI_API_KEY) ||\r\n      (process.env.GEMINI_API_KEY) ||\r\n      // @ts-ignore\r\n      (import.meta.env?.VITE_GEMINI_API_KEY) ||\r\n      '';\r\n  } catch (e) {\r\n    return '';\r\n  }\r\n};\r\n\r\nconst getAIClient = () => {\r\n  const key = getApiKey();\r\n  if (!key) return null;\r\n  try {\r\n    // For @google/genai v1.34.0, the constructor takes an object or just the key depending on version\r\n    // Based on previous working code, it expects an object with apiKey\r\n    return new GoogleGenAI({ apiKey: key });\r\n  } catch (e) {\r\n    console.error(\"Failed to initialize GoogleGenAI\", e);\r\n    return null;\r\n  }\r\n};\r\n\r\nconst ai = getAIClient();\r\n\r\nexport const generateAnimeList = async (count: number = 8): Promise<Anime[]> => {\r\n  // Graceful fallback if API fails\r\n  const mockData = Array.from({ length: count }).map((_, i) => ({\r\n    id: `mock-id-${i}`,\r\n    title: `Anime Title ${i + 1}`,\r\n    description: \"This is a fallback description because the AI service is currently unavailable or the quota has been exceeded. Please check back in an hour or add your own Gemini API key.\",\r\n    rating: (Math.random() * 5 + 5).toFixed(1),\r\n    episodes: 12 + i,\r\n    type: 'TV',\r\n    status: 'Finished',\r\n    genres: ['Action', 'Fantasy'],\r\n    thumbnail: `https://loremflickr.com/800/1200/anime,girl,scenery/all?lock=${i}`,\r\n    gallery: [\r\n      `https://loremflickr.com/1280/720/anime,background,scenery/all?lock=${i + 10}`,\r\n      `https://loremflickr.com/1280/720/anime,fight,action/all?lock=${i + 20}`,\r\n      `https://loremflickr.com/1280/720/anime,city,night/all?lock=${i + 30}`\r\n    ]\r\n  })) as unknown as Anime[];\r\n\r\n  // 1. Check Cache first to save quota\r\n  if (typeof window !== 'undefined') {\r\n    try {\r\n      const cached = localStorage.getItem(CACHE_KEY);\r\n      if (cached) {\r\n        const { data, timestamp } = JSON.parse(cached);\r\n        if (Date.now() - timestamp < CACHE_EXPIRY && data.length >= count) {\r\n          console.log(\"Using cached anime list to save Gemini quota.\");\r\n          return data.slice(0, count);\r\n        }\r\n      }\r\n    } catch (e) {\r\n      console.warn(\"Failed to read from cache\", e);\r\n    }\r\n  }\r\n\r\n  try {\r\n    const key = getApiKey();\r\n    if (!ai || !key) {\r\n      console.warn(\"Gemini API Key missing. Using fallback data.\");\r\n      return mockData;\r\n    }\r\n\r\n    // Use the API pattern that was working before (ai.models.generateContent)\r\n    // @ts-ignore\r\n    const response = await ai.models.generateContent({\r\n      model: 'gemini-1.5-flash-latest', // Switched to -latest to fix v1beta 404\r\n      contents: [{ role: 'user', parts: [{ text: `Generate a list of 18 fictional anime titles with short descriptions, ratings, genres, types (TV, Movie, OVA, ONA, Special). Provide the data as a clean JSON array.` }] }],\r\n      config: {\r\n        responseMimeType: \"application/json\",\r\n        responseSchema: {\r\n          type: Type.ARRAY,\r\n          items: {\r\n            type: Type.OBJECT,\r\n            properties: {\r\n              id: { type: Type.STRING },\r\n              title: { type: Type.STRING },\r\n              description: { type: Type.STRING },\r\n              rating: { type: Type.NUMBER },\r\n              episodes: { type: Type.NUMBER },\r\n              type: { type: Type.STRING },\r\n              status: { type: Type.STRING },\r\n              genres: { type: Type.ARRAY, items: { type: Type.STRING } }\r\n            },\r\n            required: [\"id\", \"title\", \"description\", \"rating\", \"episodes\", \"type\", \"status\", \"genres\"]\r\n          }\r\n        }\r\n      }\r\n    });\r\n\r\n    // @ts-ignore\r\n    const data = JSON.parse(response.text || '[]');\r\n\r\n    const processedData = data.map((item: any, idx: number) => ({\r\n      ...item,\r\n      thumbnail: `https://loremflickr.com/800/1200/anime,cover/all?lock=${idx}`,\r\n      gallery: [\r\n        `https://loremflickr.com/1280/720/anime,scenery/all?lock=${idx + 100}`,\r\n        `https://loremflickr.com/1280/720/anime,character/all?lock=${idx + 200}`,\r\n        `https://loremflickr.com/1280/720/anime,scene/all?lock=${idx + 300}`\r\n      ]\r\n    }));\r\n\r\n    // 2. Save to Cache\r\n    if (typeof window !== 'undefined') {\r\n      localStorage.setItem(CACHE_KEY, JSON.stringify({\r\n        data: processedData,\r\n        timestamp: Date.now()\r\n      }));\r\n    }\r\n\r\n    return processedData;\r\n  } catch (error: any) {\r\n    // Graceful handling of common 429 quota errors\r\n    if (error?.message?.includes('429') || error?.message?.includes('quota') || error?.status === 429) {\r\n      console.error(\"Gemini Quota Exceeded. Switching to fallback data...\");\r\n    } else {\r\n      console.error(\"Error generating anime list:\", error);\r\n    }\r\n    return mockData;\r\n  }\r\n};\r\n\r\nexport const generateThumbnail = async (prompt: string): Promise<string | null> => {\r\n  try {\r\n    if (!ai) return null;\r\n    // @ts-ignore\r\n    const response = await ai.models.generateContent({\r\n      model: 'gemini-1.5-flash-latest',\r\n      contents: [{ role: 'user', parts: [{ text: `High quality anime style illustration for: ${prompt}` }] }]\r\n    });\r\n\r\n    // @ts-ignore\r\n    const candidates = response.candidates || [];\r\n    for (const part of candidates[0]?.content?.parts || []) {\r\n      if (part.inlineData) {\r\n        return `data:image/png;base64,${part.inlineData.data}`;\r\n      }\r\n    }\r\n    // Fallback if no image is returned\r\n    return `https://picsum.photos/seed/${encodeURIComponent(prompt)}/400/600`;\r\n  } catch (error) {\r\n    console.error(\"Error generating thumbnail:\", error);\r\n    return null;\r\n  }\r\n};\r\n\r\nexport const searchAnime = async (query: string, count: number = 12): Promise<Anime[]> => {\r\n  try {\r\n    const key = getApiKey();\r\n    if (!ai || !key) {\r\n      console.warn(\"Gemini API Key missing. Using fallback data for search.\");\r\n      return generateAnimeList(count);\r\n    }\r\n\r\n    // @ts-ignore\r\n    const response = await ai.models.generateContent({\r\n      model: 'gemini-1.5-flash-latest',\r\n      contents: [{\r\n        role: 'user',\r\n        parts: [{ text: `Search for anime related to \"${query}\". Generate ${count} fictional anime titles that would match this search term, with short descriptions, ratings, genres, types (TV, Movie, OVA, ONA, Special). Provide the data as a clean JSON array.` }]\r\n      }],\r\n      config: {\r\n        responseMimeType: \"application/json\",\r\n        responseSchema: {\r\n          type: Type.ARRAY,\r\n          items: {\r\n            type: Type.OBJECT,\r\n            properties: {\r\n              id: { type: Type.STRING },\r\n              title: { type: Type.STRING },\r\n              description: { type: Type.STRING },\r\n              rating: { type: Type.NUMBER },\r\n              episodes: { type: Type.NUMBER },\r\n              type: { type: Type.STRING },\r\n              status: { type: Type.STRING },\r\n              genres: { type: Type.ARRAY, items: { type: Type.STRING } }\r\n            },\r\n            required: [\"id\", \"title\", \"description\", \"rating\", \"episodes\", \"type\", \"status\", \"genres\"]\r\n          }\r\n        }\r\n      }\r\n    });\r\n\r\n    // @ts-ignore\r\n    const data = JSON.parse(response.text || '[]');\r\n\r\n    return data.map((item: any, idx: number) => ({\r\n      ...item,\r\n      thumbnail: `https://loremflickr.com/800/1200/anime,search/all?lock=${idx}`,\r\n      gallery: [\r\n        `https://loremflickr.com/1280/720/anime,scenery/all?lock=${idx + 400}`,\r\n        `https://loremflickr.com/1280/720/anime,action/all?lock=${idx + 500}`,\r\n        `https://loremflickr.com/1280/720/anime,art/all?lock=${idx + 600}`\r\n      ]\r\n    }));\r\n  } catch (error: any) {\r\n    console.error(\"Error searching anime:\", error);\r\n    return generateAnimeList(count);\r\n  }\r\n};\r\n\r\nexport const getAnimeDetails = async (id: string): Promise<Anime | null> => {\r\n  // 1. Check Cache first\r\n  if (typeof window !== 'undefined') {\r\n    try {\r\n      const cached = localStorage.getItem(CACHE_KEY);\r\n      if (cached) {\r\n        const { data } = JSON.parse(cached);\r\n        const anime = data.find((a: Anime) => a.id === id);\r\n        if (anime) return anime;\r\n      }\r\n    } catch (e) {\r\n      console.warn(\"Failed to read from cache\", e);\r\n    }\r\n  }\r\n\r\n  // 2. If not in cache, generate details\r\n  try {\r\n    const key = getApiKey();\r\n    if (!ai || !key) return null;\r\n\r\n    // @ts-ignore\r\n    const response = await ai.models.generateContent({\r\n      model: 'gemini-1.5-flash-latest',\r\n      contents: [{\r\n        role: 'user',\r\n        parts: [{ text: `Generate detailed information for a fictional anime with ID \"${id}\". Provide title, description, rating, episodes, type, status, and genres as a clean JSON object.` }]\r\n      }],\r\n      config: {\r\n        responseMimeType: \"application/json\",\r\n        responseSchema: {\r\n          type: Type.OBJECT,\r\n          properties: {\r\n            id: { type: Type.STRING },\r\n            title: { type: Type.STRING },\r\n            description: { type: Type.STRING },\r\n            rating: { type: Type.NUMBER },\r\n            episodes: { type: Type.NUMBER },\r\n            type: { type: Type.STRING },\r\n            status: { type: Type.STRING },\r\n            genres: { type: Type.ARRAY, items: { type: Type.STRING } }\r\n          },\r\n          required: [\"id\", \"title\", \"description\", \"rating\", \"episodes\", \"type\", \"status\", \"genres\"]\r\n        }\r\n      }\r\n    });\r\n\r\n    // @ts-ignore\r\n    const data = JSON.parse(response.text || '{}');\r\n    return {\r\n      ...data,\r\n      thumbnail: `https://loremflickr.com/800/1200/anime,main/all?lock=${id.length}`,\r\n      gallery: [\r\n        `https://loremflickr.com/1280/720/anime,wallpaper/all?lock=${id.length + 10}`,\r\n        `https://loremflickr.com/1280/720/anime,screenshot/all?lock=${id.length + 20}`,\r\n        `https://loremflickr.com/1280/720/anime,scene/all?lock=${id.length + 30}`\r\n      ]\r\n    };\r\n  } catch (error) {\r\n    console.error(\"Error fetching anime details:\", error);\r\n    return null;\r\n  }\r\n};\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1747, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/joshi/.gemini/antigravity/scratch/mangekyou-verse-frontend/services/api.ts"],"sourcesContent":["import axios from 'axios';\r\n\r\nconst api = axios.create({\r\n    baseURL: '',\r\n    headers: {\r\n        'Content-Type': 'application/json'\r\n    }\r\n});\r\n\r\napi.interceptors.request.use(\r\n    (config) => {\r\n        const token = localStorage.getItem('token');\r\n        if (token) {\r\n            config.headers.Authorization = `Bearer ${token}`;\r\n        }\r\n        return config;\r\n    },\r\n    (error) => Promise.reject(error)\r\n);\r\n\r\nexport default api;\r\n"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM,MAAM,gJAAK,CAAC,MAAM,CAAC;IACrB,SAAS;IACT,SAAS;QACL,gBAAgB;IACpB;AACJ;AAEA,IAAI,YAAY,CAAC,OAAO,CAAC,GAAG,CACxB,CAAC;IACG,MAAM,QAAQ,aAAa,OAAO,CAAC;IACnC,IAAI,OAAO;QACP,OAAO,OAAO,CAAC,aAAa,GAAG,CAAC,OAAO,EAAE,OAAO;IACpD;IACA,OAAO;AACX,GACA,CAAC,QAAU,QAAQ,MAAM,CAAC;uCAGf"}},
    {"offset": {"line": 1771, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/joshi/.gemini/antigravity/scratch/mangekyou-verse-frontend/services/animeService.ts"],"sourcesContent":["import api from './api';\r\nimport { Anime } from '../types';\r\n\r\nexport const getSpotlight = async () => {\r\n    try {\r\n        const response = await api.get('/api/anime/spotlight');\r\n        return response.data;\r\n    } catch (e) {\r\n        console.error(\"Failed to get spotlight\", e);\r\n        return [];\r\n    }\r\n};\r\n\r\nexport const getTrending = async () => {\r\n    try {\r\n        const response = await api.get('/api/anime/trending');\r\n        return response.data;\r\n    } catch (e) {\r\n        console.error(\"Failed to get trending\", e);\r\n        return [];\r\n    }\r\n};\r\n\r\nexport const getAnimeDetailsFromBackend = async (id: string): Promise<Anime | null> => {\r\n    try {\r\n        const response = await api.get(`/api/anime/${id}`);\r\n        return response.data;\r\n    } catch (e) {\r\n        console.error(\"Failed to get anime details from backend\", e);\r\n        return null;\r\n    }\r\n};\r\n\r\nexport const getEpisodes = async (id: string) => {\r\n    try {\r\n        const response = await api.get(`/api/anime/${id}/episodes`);\r\n        return response.data;\r\n    } catch (e) {\r\n        console.error(\"Failed to get episodes\", e);\r\n        return [];\r\n    }\r\n};\r\n"],"names":[],"mappings":";;;;;;;;;;AAAA;;AAGO,MAAM,eAAe;IACxB,IAAI;QACA,MAAM,WAAW,MAAM,0HAAG,CAAC,GAAG,CAAC;QAC/B,OAAO,SAAS,IAAI;IACxB,EAAE,OAAO,GAAG;QACR,QAAQ,KAAK,CAAC,2BAA2B;QACzC,OAAO,EAAE;IACb;AACJ;AAEO,MAAM,cAAc;IACvB,IAAI;QACA,MAAM,WAAW,MAAM,0HAAG,CAAC,GAAG,CAAC;QAC/B,OAAO,SAAS,IAAI;IACxB,EAAE,OAAO,GAAG;QACR,QAAQ,KAAK,CAAC,0BAA0B;QACxC,OAAO,EAAE;IACb;AACJ;AAEO,MAAM,6BAA6B,OAAO;IAC7C,IAAI;QACA,MAAM,WAAW,MAAM,0HAAG,CAAC,GAAG,CAAC,CAAC,WAAW,EAAE,IAAI;QACjD,OAAO,SAAS,IAAI;IACxB,EAAE,OAAO,GAAG;QACR,QAAQ,KAAK,CAAC,4CAA4C;QAC1D,OAAO;IACX;AACJ;AAEO,MAAM,cAAc,OAAO;IAC9B,IAAI;QACA,MAAM,WAAW,MAAM,0HAAG,CAAC,GAAG,CAAC,CAAC,WAAW,EAAE,GAAG,SAAS,CAAC;QAC1D,OAAO,SAAS,IAAI;IACxB,EAAE,OAAO,GAAG;QACR,QAAQ,KAAK,CAAC,0BAA0B;QACxC,OAAO,EAAE;IACb;AACJ"}},
    {"offset": {"line": 1823, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/joshi/.gemini/antigravity/scratch/mangekyou-verse-frontend/app/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { useState, useEffect, useRef } from 'react';\r\nimport { useRouter } from 'next/navigation';\r\nimport Logo from '@/components/Logo';\r\nimport ParticleGrid from '@/components/ParticleGrid';\r\nimport AnimeCard from '@/components/AnimeCard';\r\nimport SpotlightSlider from '@/components/home/SpotlightSlider';\r\nimport TrendingCarousel from '@/components/home/TrendingCarousel';\r\nimport Top10Sidebar from '@/components/home/Top10Sidebar';\r\nimport ContinueWatching from '@/components/home/ContinueWatching';\r\nimport { generateAnimeList } from '@/services/geminiService';\r\nimport { getSpotlight, getTrending } from '@/services/animeService';\r\nimport { Anime } from '@/types';\r\nimport Link from 'next/link';\r\n\r\nexport default function HomePage() {\r\n    const [topAiring, setTopAiring] = useState<Anime[]>([]);\r\n    const [spotlight, setSpotlight] = useState<any[]>([]);\r\n    const [trending, setTrending] = useState<any[]>([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [searchQuery, setSearchQuery] = useState('');\r\n    const router = useRouter();\r\n    const contentRef = useRef<HTMLDivElement>(null);\r\n    const searchContainerRef = useRef<HTMLDivElement>(null);\r\n\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            try {\r\n                const [spotlightData, trendingData, fullList] = await Promise.all([\r\n                    getSpotlight(),\r\n                    getTrending(),\r\n                    generateAnimeList(18)\r\n                ]);\r\n\r\n                setSpotlight(spotlightData);\r\n                setTrending(trendingData);\r\n                setTopAiring(fullList.slice(6));\r\n            } catch (err) {\r\n                console.error(\"Failed to load content\", err);\r\n            } finally {\r\n                setLoading(false);\r\n            }\r\n        };\r\n        fetchData();\r\n    }, []);\r\n\r\n    const handleSearchSubmit = (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n        if (searchQuery.trim()) {\r\n            router.push(`/search?q=${searchQuery}`);\r\n        }\r\n    };\r\n\r\n    const scrollToContent = () => {\r\n        if (contentRef.current) {\r\n            contentRef.current.scrollIntoView({ behavior: 'smooth' });\r\n        }\r\n    };\r\n\r\n    if (loading) {\r\n        return (\r\n            <div className=\"flex flex-col items-center justify-center min-h-[80vh] gap-8 bg-[#0f1011]\">\r\n                <div className=\"relative w-32 h-32\">\r\n                    <div className=\"absolute inset-0 rounded-full border-4 border-brand-primary/10 shadow-[0_0_50px_rgba(183,148,244,0.1)]\"></div>\r\n                    <div className=\"absolute inset-0 rounded-full border-4 border-brand-primary border-t-transparent animate-spin\"></div>\r\n                    <Logo className=\"absolute inset-4 w-24 h-24 animate-pulse-glow\" />\r\n                </div>\r\n                <p className=\"text-brand-primary font-black uppercase tracking-[0.5em] text-xs animate-pulse\">Initializing Rinnegan Node...</p>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className=\"bg-[#0f1011] relative min-h-screen overflow-x-hidden\">\r\n            {/* Search Landing Section */}\r\n            <section className=\"relative min-h-[90vh] md:min-h-[95vh] flex items-center justify-center py-20\">\r\n                {/* Visual Background Elements */}\r\n                <div className=\"absolute inset-0 z-0 overflow-hidden\">\r\n                    <ParticleGrid />\r\n                    <div className=\"absolute top-1/4 left-1/4 w-[500px] h-[500px] bg-brand-primary/10 rounded-full blur-[150px] animate-pulse\"></div>\r\n                    <div className=\"absolute bottom-1/4 right-1/4 w-[400px] h-[400px] bg-brand-secondary/10 rounded-full blur-[150px] animate-pulse\"></div>\r\n                    <div className=\"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/stardust.png')] opacity-10 pointer-events-none\"></div>\r\n                </div>\r\n\r\n                <div className=\"relative z-10 w-full max-w-4xl mx-auto px-6\">\r\n                    <div className=\"flex flex-col items-center gap-10 md:gap-14 animate-fade-in text-center\">\r\n\r\n                        {/* Branding Section */}\r\n                        <div className=\"flex flex-col md:flex-row items-center gap-6 md:gap-10 group cursor-default\">\r\n                            <div className=\"relative\">\r\n                                <div className=\"absolute inset-0 bg-brand-primary/20 blur-3xl rounded-full animate-pulse\"></div>\r\n                                <Logo className=\"w-20 h-20 md:w-32 md:h-32 transform transition-all duration-1000 group-hover:rotate-[360deg] animate-spin-slow relative z-10\" />\r\n                            </div>\r\n                            <div className=\"flex flex-col items-center md:items-start\">\r\n                                <h1 className=\"text-5xl md:text-8xl font-black text-white tracking-tighter uppercase leading-none drop-shadow-2xl\">\r\n                                    MANGEKYOU<span className=\"text-brand-primary\">VERSE</span>\r\n                                </h1>\r\n                                <p className=\"text-[10px] md:text-xs font-black text-brand-primary opacity-60 uppercase tracking-[0.6em] mt-2 md:mt-4 ml-1\">\r\n                                    The Ultimate Anime Node\r\n                                </p>\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* Premium Search Container */}\r\n                        <div className=\"w-full max-w-2xl relative\" ref={searchContainerRef}>\r\n                            <form onSubmit={handleSearchSubmit} className=\"relative group\">\r\n                                <div className=\"absolute left-4 md:left-5 top-1/2 -translate-y-1/2 text-black/20 text-lg pointer-events-none group-focus-within:text-brand-primary transition-colors\">\r\n                                    <i className=\"fa-solid fa-user-ninja\"></i>\r\n                                </div>\r\n                                <input\r\n                                    type=\"text\"\r\n                                    placeholder=\"What are you looking for today?\"\r\n                                    className=\"w-full h-14 md:h-16 bg-white rounded-full pl-12 md:pl-14 pr-20 md:pr-24 text-base md:text-lg font-bold text-black border-none focus:outline-none focus:ring-8 md:focus:ring-12 focus:ring-brand-primary/10 transition-all shadow-[0_30px_80px_rgba(0,0,0,0.5)] placeholder:text-gray-400\"\r\n                                    value={searchQuery}\r\n                                    onChange={(e) => setSearchQuery(e.target.value)}\r\n                                />\r\n                                <button\r\n                                    type=\"submit\"\r\n                                    className=\"absolute right-2 md:right-3 top-1/2 -translate-y-1/2 w-10 h-10 md:w-12 md:h-12 bg-brand-primary rounded-full flex items-center justify-center text-black group/btn hover:scale-110 active:scale-95 transition-all shadow-lg shadow-brand-primary/30 group-hover:shadow-brand-primary/50\"\r\n                                >\r\n                                    <i className=\"fa-solid fa-magnifying-glass text-base md:text-lg\"></i>\r\n                                </button>\r\n                            </form>\r\n                        </div>\r\n\r\n                        {/* Quick Access Tags */}\r\n                        <div className=\"flex flex-col items-center gap-6\">\r\n                            <div className=\"flex flex-wrap justify-center gap-3\">\r\n                                <span className=\"text-[11px] font-black text-gray-500 uppercase tracking-[0.2em] mr-4 self-center px-4 border-r border-white/10\">Trending Tags:</span>\r\n                                {['One Piece', 'Solo Leveling', 'Jujutsu Kaisen', 'Naruto', 'Demon Slayer'].map((tag, idx) => (\r\n                                    <button\r\n                                        key={idx}\r\n                                        onClick={() => router.push(`/search?q=${tag}`)}\r\n                                        className=\"bg-white/5 hover:bg-brand-primary hover:text-black px-5 py-2 rounded-full text-[10px] font-bold text-gray-400 uppercase tracking-widest transition-all border border-white/5 hover:border-brand-primary/50\"\r\n                                    >\r\n                                        {tag}\r\n                                    </button>\r\n                                ))}\r\n                            </div>\r\n\r\n                            <button\r\n                                onClick={scrollToContent}\r\n                                className=\"group flex flex-col items-center gap-4 mt-8\"\r\n                            >\r\n                                <div className=\"bg-brand-primary hover:bg-[#cbb2f9] text-[#0f1011] px-12 py-5 rounded-full font-black text-xl uppercase tracking-[0.3em] transition-all transform hover:scale-[1.05] active:scale-95 shadow-[0_30px_70px_rgba(183,148,244,0.3)]\">\r\n                                    Continue to Home\r\n                                </div>\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </section>\r\n\r\n            {/* Main Content Sections */}\r\n            <div className=\"max-w-7xl mx-auto px-4 md:px-6\">\r\n\r\n                {/* 1. Spotlight Slider */}\r\n                <section ref={contentRef} className=\"pt-0 bg-[#0f1011] rounded-3xl overflow-hidden shadow-2xl\">\r\n                    {spotlight.length > 0 && <SpotlightSlider items={spotlight} />}\r\n                </section>\r\n\r\n                {/* 2. HiAnime-style Continue Watching (Logged-in only) */}\r\n                <ContinueWatching />\r\n\r\n                {/* 3. Trending Section */}\r\n                <section className=\"bg-[#0f1011] pt-16 pb-8 relative z-10\">\r\n                    <div className=\"max-w-[1920px] mx-auto\">\r\n                        {trending.length > 0 && <TrendingCarousel items={trending} />}\r\n                    </div>\r\n                </section>\r\n\r\n                {/* 4. Latest & Sidebar */}\r\n                <div className=\"grid grid-cols-1 lg:grid-cols-4 gap-12 py-12\">\r\n                    {/* LEFT COLUMN */}\r\n                    <div className=\"lg:col-span-3 space-y-16\">\r\n                        <section>\r\n                            <div className=\"flex items-center justify-between mb-8\">\r\n                                <h2 className=\"text-2xl font-black text-white uppercase tracking-tighter flex items-center gap-3\">\r\n                                    <span className=\"w-1 h-8 bg-brand-primary rounded-full\"></span>\r\n                                    Latest Episodes\r\n                                </h2>\r\n                                <button className=\"text-[10px] font-black uppercase tracking-widest text-gray-500 hover:text-white transition-colors\">\r\n                                    View All <i className=\"fa-solid fa-chevron-right ml-1 text-brand-primary\"></i>\r\n                                </button>\r\n                            </div>\r\n                            <div className=\"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-x-6 gap-y-10\">\r\n                                {topAiring.map(anime => (\r\n                                    <AnimeCard key={anime.id} anime={anime} />\r\n                                ))}\r\n                            </div>\r\n                        </section>\r\n                    </div>\r\n\r\n                    {/* RIGHT COLUMN */}\r\n                    <div className=\"lg:col-span-1 space-y-12\">\r\n                        {trending.length > 0 && <Top10Sidebar items={trending} />}\r\n\r\n                        <div className=\"bg-[#121315] p-8 rounded-[32px] border border-white/5 shadow-2xl\">\r\n                            <h3 className=\"text-xs font-black text-white uppercase tracking-[0.3em] mb-6 border-b border-white/10 pb-4\">Explore Genres</h3>\r\n                            <div className=\"grid grid-cols-2 gap-3\">\r\n                                {['Action', 'Adventure', 'Comedy', 'Drama', 'Fantasy', 'Horror', 'Isekai', 'Sci-Fi', 'Seinen', 'Shounen'].map(genre => (\r\n                                    <Link key={genre} href={`/search?q=${genre}`} className=\"text-[10px] font-bold text-gray-500 hover:text-brand-primary hover:bg-white/5 border border-white/5 hover:border-brand-primary/20 px-3 py-2 rounded-xl transition-all truncate text-center uppercase tracking-widest\">\r\n                                        {genre}\r\n                                    </Link>\r\n                                ))}\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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"}}]
}