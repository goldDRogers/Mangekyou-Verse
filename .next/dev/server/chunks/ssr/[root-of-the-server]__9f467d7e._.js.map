{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 124, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/joshi/.gemini/antigravity/scratch/mangekyou-verse-frontend/services/geminiService.ts"],"sourcesContent":["import { GoogleGenAI, Type } from \"@google/genai\";\r\nimport { Anime } from \"../types\";\r\n\r\nconst CACHE_KEY = 'mangekyou_anime_cache';\r\nconst CACHE_EXPIRY = 1000 * 60 * 60; // 1 hour\r\n\r\nconst getApiKey = () => {\r\n  try {\r\n    return (process.env.NEXT_PUBLIC_GEMINI_API_KEY) ||\r\n      (process.env.GEMINI_API_KEY) ||\r\n      // @ts-ignore\r\n      (import.meta.env?.VITE_GEMINI_API_KEY) ||\r\n      '';\r\n  } catch (e) {\r\n    return '';\r\n  }\r\n};\r\n\r\nconst getAIClient = () => {\r\n  const key = getApiKey();\r\n  if (!key) return null;\r\n  try {\r\n    // For @google/genai v1.34.0, the constructor takes an object or just the key depending on version\r\n    // Based on previous working code, it expects an object with apiKey\r\n    return new GoogleGenAI({ apiKey: key });\r\n  } catch (e) {\r\n    console.error(\"Failed to initialize GoogleGenAI\", e);\r\n    return null;\r\n  }\r\n};\r\n\r\nconst ai = getAIClient();\r\n\r\nexport const generateAnimeList = async (count: number = 8): Promise<Anime[]> => {\r\n  // Graceful fallback if API fails\r\n  const mockData = Array.from({ length: count }).map((_, i) => ({\r\n    id: `mock-id-${i}`,\r\n    title: `Anime Title ${i + 1}`,\r\n    description: \"This is a fallback description because the AI service is currently unavailable or the quota has been exceeded. Please check back in an hour or add your own Gemini API key.\",\r\n    rating: (Math.random() * 5 + 5).toFixed(1),\r\n    episodes: 12 + i,\r\n    type: 'TV',\r\n    status: 'Finished',\r\n    genres: ['Action', 'Fantasy'],\r\n    thumbnail: `https://loremflickr.com/800/1200/anime,girl,scenery/all?lock=${i}`,\r\n    gallery: [\r\n      `https://loremflickr.com/1280/720/anime,background,scenery/all?lock=${i + 10}`,\r\n      `https://loremflickr.com/1280/720/anime,fight,action/all?lock=${i + 20}`,\r\n      `https://loremflickr.com/1280/720/anime,city,night/all?lock=${i + 30}`\r\n    ]\r\n  })) as unknown as Anime[];\r\n\r\n  // 1. Check Cache first to save quota\r\n  if (typeof window !== 'undefined') {\r\n    try {\r\n      const cached = localStorage.getItem(CACHE_KEY);\r\n      if (cached) {\r\n        const { data, timestamp } = JSON.parse(cached);\r\n        if (Date.now() - timestamp < CACHE_EXPIRY && data.length >= count) {\r\n          console.log(\"Using cached anime list to save Gemini quota.\");\r\n          return data.slice(0, count);\r\n        }\r\n      }\r\n    } catch (e) {\r\n      console.warn(\"Failed to read from cache\", e);\r\n    }\r\n  }\r\n\r\n  try {\r\n    const key = getApiKey();\r\n    if (!ai || !key) {\r\n      console.warn(\"Gemini API Key missing. Using fallback data.\");\r\n      return mockData;\r\n    }\r\n\r\n    // Use the API pattern that was working before (ai.models.generateContent)\r\n    // @ts-ignore\r\n    const response = await ai.models.generateContent({\r\n      model: 'gemini-1.5-flash-latest', // Switched to -latest to fix v1beta 404\r\n      contents: [{ role: 'user', parts: [{ text: `Generate a list of 18 fictional anime titles with short descriptions, ratings, genres, types (TV, Movie, OVA, ONA, Special). Provide the data as a clean JSON array.` }] }],\r\n      config: {\r\n        responseMimeType: \"application/json\",\r\n        responseSchema: {\r\n          type: Type.ARRAY,\r\n          items: {\r\n            type: Type.OBJECT,\r\n            properties: {\r\n              id: { type: Type.STRING },\r\n              title: { type: Type.STRING },\r\n              description: { type: Type.STRING },\r\n              rating: { type: Type.NUMBER },\r\n              episodes: { type: Type.NUMBER },\r\n              type: { type: Type.STRING },\r\n              status: { type: Type.STRING },\r\n              genres: { type: Type.ARRAY, items: { type: Type.STRING } }\r\n            },\r\n            required: [\"id\", \"title\", \"description\", \"rating\", \"episodes\", \"type\", \"status\", \"genres\"]\r\n          }\r\n        }\r\n      }\r\n    });\r\n\r\n    // @ts-ignore\r\n    const data = JSON.parse(response.text || '[]');\r\n\r\n    const processedData = data.map((item: any, idx: number) => ({\r\n      ...item,\r\n      thumbnail: `https://loremflickr.com/800/1200/anime,cover/all?lock=${idx}`,\r\n      gallery: [\r\n        `https://loremflickr.com/1280/720/anime,scenery/all?lock=${idx + 100}`,\r\n        `https://loremflickr.com/1280/720/anime,character/all?lock=${idx + 200}`,\r\n        `https://loremflickr.com/1280/720/anime,scene/all?lock=${idx + 300}`\r\n      ]\r\n    }));\r\n\r\n    // 2. Save to Cache\r\n    if (typeof window !== 'undefined') {\r\n      localStorage.setItem(CACHE_KEY, JSON.stringify({\r\n        data: processedData,\r\n        timestamp: Date.now()\r\n      }));\r\n    }\r\n\r\n    return processedData;\r\n  } catch (error: any) {\r\n    // Graceful handling of common 429 quota errors\r\n    if (error?.message?.includes('429') || error?.message?.includes('quota') || error?.status === 429) {\r\n      console.error(\"Gemini Quota Exceeded. Switching to fallback data...\");\r\n    } else {\r\n      console.error(\"Error generating anime list:\", error);\r\n    }\r\n    return mockData;\r\n  }\r\n};\r\n\r\nexport const generateThumbnail = async (prompt: string): Promise<string | null> => {\r\n  try {\r\n    if (!ai) return null;\r\n    // @ts-ignore\r\n    const response = await ai.models.generateContent({\r\n      model: 'gemini-1.5-flash-latest',\r\n      contents: [{ role: 'user', parts: [{ text: `High quality anime style illustration for: ${prompt}` }] }]\r\n    });\r\n\r\n    // @ts-ignore\r\n    const candidates = response.candidates || [];\r\n    for (const part of candidates[0]?.content?.parts || []) {\r\n      if (part.inlineData) {\r\n        return `data:image/png;base64,${part.inlineData.data}`;\r\n      }\r\n    }\r\n    // Fallback if no image is returned\r\n    return `https://picsum.photos/seed/${encodeURIComponent(prompt)}/400/600`;\r\n  } catch (error) {\r\n    console.error(\"Error generating thumbnail:\", error);\r\n    return null;\r\n  }\r\n};\r\n\r\nexport const searchAnime = async (query: string, count: number = 12): Promise<Anime[]> => {\r\n  try {\r\n    const key = getApiKey();\r\n    if (!ai || !key) {\r\n      console.warn(\"Gemini API Key missing. Using fallback data for search.\");\r\n      return generateAnimeList(count);\r\n    }\r\n\r\n    // @ts-ignore\r\n    const response = await ai.models.generateContent({\r\n      model: 'gemini-1.5-flash-latest',\r\n      contents: [{\r\n        role: 'user',\r\n        parts: [{ text: `Search for anime related to \"${query}\". Generate ${count} fictional anime titles that would match this search term, with short descriptions, ratings, genres, types (TV, Movie, OVA, ONA, Special). Provide the data as a clean JSON array.` }]\r\n      }],\r\n      config: {\r\n        responseMimeType: \"application/json\",\r\n        responseSchema: {\r\n          type: Type.ARRAY,\r\n          items: {\r\n            type: Type.OBJECT,\r\n            properties: {\r\n              id: { type: Type.STRING },\r\n              title: { type: Type.STRING },\r\n              description: { type: Type.STRING },\r\n              rating: { type: Type.NUMBER },\r\n              episodes: { type: Type.NUMBER },\r\n              type: { type: Type.STRING },\r\n              status: { type: Type.STRING },\r\n              genres: { type: Type.ARRAY, items: { type: Type.STRING } }\r\n            },\r\n            required: [\"id\", \"title\", \"description\", \"rating\", \"episodes\", \"type\", \"status\", \"genres\"]\r\n          }\r\n        }\r\n      }\r\n    });\r\n\r\n    // @ts-ignore\r\n    const data = JSON.parse(response.text || '[]');\r\n\r\n    return data.map((item: any, idx: number) => ({\r\n      ...item,\r\n      thumbnail: `https://loremflickr.com/800/1200/anime,search/all?lock=${idx}`,\r\n      gallery: [\r\n        `https://loremflickr.com/1280/720/anime,scenery/all?lock=${idx + 400}`,\r\n        `https://loremflickr.com/1280/720/anime,action/all?lock=${idx + 500}`,\r\n        `https://loremflickr.com/1280/720/anime,art/all?lock=${idx + 600}`\r\n      ]\r\n    }));\r\n  } catch (error: any) {\r\n    console.error(\"Error searching anime:\", error);\r\n    return generateAnimeList(count);\r\n  }\r\n};\r\n\r\nexport const getAnimeDetails = async (id: string): Promise<Anime | null> => {\r\n  // 1. Check Cache first\r\n  if (typeof window !== 'undefined') {\r\n    try {\r\n      const cached = localStorage.getItem(CACHE_KEY);\r\n      if (cached) {\r\n        const { data } = JSON.parse(cached);\r\n        const anime = data.find((a: Anime) => a.id === id);\r\n        if (anime) return anime;\r\n      }\r\n    } catch (e) {\r\n      console.warn(\"Failed to read from cache\", e);\r\n    }\r\n  }\r\n\r\n  // 2. If not in cache, generate details\r\n  try {\r\n    const key = getApiKey();\r\n    if (!ai || !key) return null;\r\n\r\n    // @ts-ignore\r\n    const response = await ai.models.generateContent({\r\n      model: 'gemini-1.5-flash-latest',\r\n      contents: [{\r\n        role: 'user',\r\n        parts: [{ text: `Generate detailed information for a fictional anime with ID \"${id}\". Provide title, description, rating, episodes, type, status, and genres as a clean JSON object.` }]\r\n      }],\r\n      config: {\r\n        responseMimeType: \"application/json\",\r\n        responseSchema: {\r\n          type: Type.OBJECT,\r\n          properties: {\r\n            id: { type: Type.STRING },\r\n            title: { type: Type.STRING },\r\n            description: { type: Type.STRING },\r\n            rating: { type: Type.NUMBER },\r\n            episodes: { type: Type.NUMBER },\r\n            type: { type: Type.STRING },\r\n            status: { type: Type.STRING },\r\n            genres: { type: Type.ARRAY, items: { type: Type.STRING } }\r\n          },\r\n          required: [\"id\", \"title\", \"description\", \"rating\", \"episodes\", \"type\", \"status\", \"genres\"]\r\n        }\r\n      }\r\n    });\r\n\r\n    // @ts-ignore\r\n    const data = JSON.parse(response.text || '{}');\r\n    return {\r\n      ...data,\r\n      thumbnail: `https://loremflickr.com/800/1200/anime,main/all?lock=${id.length}`,\r\n      gallery: [\r\n        `https://loremflickr.com/1280/720/anime,wallpaper/all?lock=${id.length + 10}`,\r\n        `https://loremflickr.com/1280/720/anime,screenshot/all?lock=${id.length + 20}`,\r\n        `https://loremflickr.com/1280/720/anime,scene/all?lock=${id.length + 30}`\r\n      ]\r\n    };\r\n  } catch (error) {\r\n    console.error(\"Error fetching anime details:\", error);\r\n    return null;\r\n  }\r\n};\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 506, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/joshi/.gemini/antigravity/scratch/mangekyou-verse-frontend/services/api.ts"],"sourcesContent":["import axios from 'axios';\r\n\r\nconst api = axios.create({\r\n    baseURL: '',\r\n    headers: {\r\n        'Content-Type': 'application/json'\r\n    }\r\n});\r\n\r\napi.interceptors.request.use(\r\n    (config) => {\r\n        const token = localStorage.getItem('token');\r\n        if (token) {\r\n            config.headers.Authorization = `Bearer ${token}`;\r\n        }\r\n        return config;\r\n    },\r\n    (error) => Promise.reject(error)\r\n);\r\n\r\nexport default api;\r\n"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM,MAAM,gJAAK,CAAC,MAAM,CAAC;IACrB,SAAS;IACT,SAAS;QACL,gBAAgB;IACpB;AACJ;AAEA,IAAI,YAAY,CAAC,OAAO,CAAC,GAAG,CACxB,CAAC;IACG,MAAM,QAAQ,aAAa,OAAO,CAAC;IACnC,IAAI,OAAO;QACP,OAAO,OAAO,CAAC,aAAa,GAAG,CAAC,OAAO,EAAE,OAAO;IACpD;IACA,OAAO;AACX,GACA,CAAC,QAAU,QAAQ,MAAM,CAAC;uCAGf"}},
    {"offset": {"line": 530, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/joshi/.gemini/antigravity/scratch/mangekyou-verse-frontend/services/animeService.ts"],"sourcesContent":["import api from './api';\r\nimport { Anime } from '../types';\r\n\r\nexport const getSpotlight = async () => {\r\n    try {\r\n        const response = await api.get('/api/anime/spotlight');\r\n        return response.data;\r\n    } catch (e) {\r\n        console.error(\"Failed to get spotlight\", e);\r\n        return [];\r\n    }\r\n};\r\n\r\nexport const getTrending = async () => {\r\n    try {\r\n        const response = await api.get('/api/anime/trending');\r\n        return response.data;\r\n    } catch (e) {\r\n        console.error(\"Failed to get trending\", e);\r\n        return [];\r\n    }\r\n};\r\n\r\nexport const getAnimeDetailsFromBackend = async (id: string): Promise<Anime | null> => {\r\n    try {\r\n        const response = await api.get(`/api/anime/${id}`);\r\n        return response.data;\r\n    } catch (e) {\r\n        console.error(\"Failed to get anime details from backend\", e);\r\n        return null;\r\n    }\r\n};\r\n\r\nexport const getEpisodes = async (id: string) => {\r\n    try {\r\n        const response = await api.get(`/api/anime/${id}/episodes`);\r\n        return response.data;\r\n    } catch (e) {\r\n        console.error(\"Failed to get episodes\", e);\r\n        return [];\r\n    }\r\n};\r\n"],"names":[],"mappings":";;;;;;;;;;AAAA;;AAGO,MAAM,eAAe;IACxB,IAAI;QACA,MAAM,WAAW,MAAM,0HAAG,CAAC,GAAG,CAAC;QAC/B,OAAO,SAAS,IAAI;IACxB,EAAE,OAAO,GAAG;QACR,QAAQ,KAAK,CAAC,2BAA2B;QACzC,OAAO,EAAE;IACb;AACJ;AAEO,MAAM,cAAc;IACvB,IAAI;QACA,MAAM,WAAW,MAAM,0HAAG,CAAC,GAAG,CAAC;QAC/B,OAAO,SAAS,IAAI;IACxB,EAAE,OAAO,GAAG;QACR,QAAQ,KAAK,CAAC,0BAA0B;QACxC,OAAO,EAAE;IACb;AACJ;AAEO,MAAM,6BAA6B,OAAO;IAC7C,IAAI;QACA,MAAM,WAAW,MAAM,0HAAG,CAAC,GAAG,CAAC,CAAC,WAAW,EAAE,IAAI;QACjD,OAAO,SAAS,IAAI;IACxB,EAAE,OAAO,GAAG;QACR,QAAQ,KAAK,CAAC,4CAA4C;QAC1D,OAAO;IACX;AACJ;AAEO,MAAM,cAAc,OAAO;IAC9B,IAAI;QACA,MAAM,WAAW,MAAM,0HAAG,CAAC,GAAG,CAAC,CAAC,WAAW,EAAE,GAAG,SAAS,CAAC;QAC1D,OAAO,SAAS,IAAI;IACxB,EAAE,OAAO,GAAG;QACR,QAAQ,KAAK,CAAC,0BAA0B;QACxC,OAAO,EAAE;IACb;AACJ"}},
    {"offset": {"line": 582, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/joshi/.gemini/antigravity/scratch/mangekyou-verse-frontend/services/watchlistService.ts"],"sourcesContent":["import { supabase } from '../lib/supabaseClient';\r\n\r\nexport const watchlistService = {\r\n    async getWatchlist() {\r\n        const { data: { user } } = await supabase.auth.getUser();\r\n        if (!user) return [];\r\n\r\n        const { data, error } = await supabase\r\n            .from('watchlist')\r\n            .select('*')\r\n            .eq('user_id', user.id)\r\n            .order('created_at', { ascending: false });\r\n\r\n        if (error) throw error;\r\n        return data;\r\n    },\r\n\r\n    async toggleWatchlist(animeId: string) {\r\n        const { data: { user } } = await supabase.auth.getUser();\r\n        if (!user) throw new Error(\"Must be logged in\");\r\n\r\n        // Check if exists\r\n        const { data: existing } = await supabase\r\n            .from('watchlist')\r\n            .select('id')\r\n            .eq('user_id', user.id)\r\n            .eq('anime_id', animeId)\r\n            .single();\r\n\r\n        if (existing) {\r\n            // Remove\r\n            const { error } = await supabase\r\n                .from('watchlist')\r\n                .delete()\r\n                .eq('id', existing.id);\r\n            if (error) throw error;\r\n            return false; // Not in watchlist anymore\r\n        } else {\r\n            // Add\r\n            const { error } = await supabase\r\n                .from('watchlist')\r\n                .insert([{ user_id: user.id, anime_id: animeId }]);\r\n            if (error) throw error;\r\n            return true; // In watchlist now\r\n        }\r\n    },\r\n\r\n    async isInWatchlist(animeId: string) {\r\n        const { data: { user } } = await supabase.auth.getUser();\r\n        if (!user) return false;\r\n\r\n        const { data, error } = await supabase\r\n            .from('watchlist')\r\n            .select('id')\r\n            .eq('user_id', user.id)\r\n            .eq('anime_id', animeId)\r\n            .maybeSingle();\r\n\r\n        return !!data;\r\n    }\r\n};\r\n\r\nexport const historyService = {\r\n    async getHistory() {\r\n        const { data: { user } } = await supabase.auth.getUser();\r\n        if (!user) return [];\r\n\r\n        const { data, error } = await supabase\r\n            .from('watch_history')\r\n            .select('*')\r\n            .eq('user_id', user.id)\r\n            .order('updated_at', { ascending: false });\r\n\r\n        if (error) throw error;\r\n        return data;\r\n    },\r\n\r\n    async updateProgress(animeId: string, episodeId: string, seconds: number) {\r\n        const { data: { user } } = await supabase.auth.getUser();\r\n        if (!user) return;\r\n\r\n        // Upsert the progress\r\n        const { error } = await supabase\r\n            .from('watch_history')\r\n            .upsert({\r\n                user_id: user.id,\r\n                anime_id: animeId,\r\n                episode_id: episodeId,\r\n                progress_seconds: seconds,\r\n                updated_at: new Date().toISOString()\r\n            }, {\r\n                onConflict: 'user_id, anime_id'\r\n            });\r\n\r\n        if (error) console.error(\"Failed to update history\", error);\r\n    }\r\n};\r\n"],"names":[],"mappings":";;;;;;AAAA;;AAEO,MAAM,mBAAmB;IAC5B,MAAM;QACF,MAAM,EAAE,MAAM,EAAE,IAAI,EAAE,EAAE,GAAG,MAAM,iIAAQ,CAAC,IAAI,CAAC,OAAO;QACtD,IAAI,CAAC,MAAM,OAAO,EAAE;QAEpB,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,iIAAQ,CACjC,IAAI,CAAC,aACL,MAAM,CAAC,KACP,EAAE,CAAC,WAAW,KAAK,EAAE,EACrB,KAAK,CAAC,cAAc;YAAE,WAAW;QAAM;QAE5C,IAAI,OAAO,MAAM;QACjB,OAAO;IACX;IAEA,MAAM,iBAAgB,OAAe;QACjC,MAAM,EAAE,MAAM,EAAE,IAAI,EAAE,EAAE,GAAG,MAAM,iIAAQ,CAAC,IAAI,CAAC,OAAO;QACtD,IAAI,CAAC,MAAM,MAAM,IAAI,MAAM;QAE3B,kBAAkB;QAClB,MAAM,EAAE,MAAM,QAAQ,EAAE,GAAG,MAAM,iIAAQ,CACpC,IAAI,CAAC,aACL,MAAM,CAAC,MACP,EAAE,CAAC,WAAW,KAAK,EAAE,EACrB,EAAE,CAAC,YAAY,SACf,MAAM;QAEX,IAAI,UAAU;YACV,SAAS;YACT,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,iIAAQ,CAC3B,IAAI,CAAC,aACL,MAAM,GACN,EAAE,CAAC,MAAM,SAAS,EAAE;YACzB,IAAI,OAAO,MAAM;YACjB,OAAO,OAAO,2BAA2B;QAC7C,OAAO;YACH,MAAM;YACN,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,iIAAQ,CAC3B,IAAI,CAAC,aACL,MAAM,CAAC;gBAAC;oBAAE,SAAS,KAAK,EAAE;oBAAE,UAAU;gBAAQ;aAAE;YACrD,IAAI,OAAO,MAAM;YACjB,OAAO,MAAM,mBAAmB;QACpC;IACJ;IAEA,MAAM,eAAc,OAAe;QAC/B,MAAM,EAAE,MAAM,EAAE,IAAI,EAAE,EAAE,GAAG,MAAM,iIAAQ,CAAC,IAAI,CAAC,OAAO;QACtD,IAAI,CAAC,MAAM,OAAO;QAElB,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,iIAAQ,CACjC,IAAI,CAAC,aACL,MAAM,CAAC,MACP,EAAE,CAAC,WAAW,KAAK,EAAE,EACrB,EAAE,CAAC,YAAY,SACf,WAAW;QAEhB,OAAO,CAAC,CAAC;IACb;AACJ;AAEO,MAAM,iBAAiB;IAC1B,MAAM;QACF,MAAM,EAAE,MAAM,EAAE,IAAI,EAAE,EAAE,GAAG,MAAM,iIAAQ,CAAC,IAAI,CAAC,OAAO;QACtD,IAAI,CAAC,MAAM,OAAO,EAAE;QAEpB,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,iIAAQ,CACjC,IAAI,CAAC,iBACL,MAAM,CAAC,KACP,EAAE,CAAC,WAAW,KAAK,EAAE,EACrB,KAAK,CAAC,cAAc;YAAE,WAAW;QAAM;QAE5C,IAAI,OAAO,MAAM;QACjB,OAAO;IACX;IAEA,MAAM,gBAAe,OAAe,EAAE,SAAiB,EAAE,OAAe;QACpE,MAAM,EAAE,MAAM,EAAE,IAAI,EAAE,EAAE,GAAG,MAAM,iIAAQ,CAAC,IAAI,CAAC,OAAO;QACtD,IAAI,CAAC,MAAM;QAEX,sBAAsB;QACtB,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,iIAAQ,CAC3B,IAAI,CAAC,iBACL,MAAM,CAAC;YACJ,SAAS,KAAK,EAAE;YAChB,UAAU;YACV,YAAY;YACZ,kBAAkB;YAClB,YAAY,IAAI,OAAO,WAAW;QACtC,GAAG;YACC,YAAY;QAChB;QAEJ,IAAI,OAAO,QAAQ,KAAK,CAAC,4BAA4B;IACzD;AACJ"}},
    {"offset": {"line": 659, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/joshi/.gemini/antigravity/scratch/mangekyou-verse-frontend/app/watch/%5Bid%5D/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { useState, useEffect } from 'react';\r\nimport { useParams, useRouter } from 'next/navigation';\r\nimport Layout from '@/components/Layout';\r\nimport { getAnimeDetails } from '@/services/geminiService';\r\nimport { getAnimeDetailsFromBackend, getEpisodes } from '@/services/animeService';\r\nimport { historyService, watchlistService } from '@/services/watchlistService';\r\nimport { Anime } from '@/types';\r\nimport { motion } from 'framer-motion';\r\n\r\nexport default function WatchPage() {\r\n    const params = useParams();\r\n    const id = params ? params.id as string : '';\r\n    const router = useRouter();\r\n    const [anime, setAnime] = useState<Anime | null>(null);\r\n    const [loading, setLoading] = useState(true);\r\n    const [inWatchlist, setInWatchlist] = useState(false);\r\n    const [currentEpisode, setCurrentEpisode] = useState(1);\r\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n    const [progress, setProgress] = useState(0);\r\n\r\n    useEffect(() => {\r\n        if (!id) return;\r\n\r\n        const fetchData = async () => {\r\n            setLoading(true);\r\n            try {\r\n                // Try backend first\r\n                let data = await getAnimeDetailsFromBackend(id);\r\n\r\n                // If backend fails, try Gemini (fictional data)\r\n                if (!data) {\r\n                    data = await getAnimeDetails(id);\r\n                }\r\n\r\n                if (!data) {\r\n                    router.push('/');\r\n                    return;\r\n                }\r\n                setAnime(data);\r\n\r\n                const isSaved = await watchlistService.isInWatchlist(id);\r\n                setInWatchlist(isSaved);\r\n\r\n                // Try to get episodes from backend\r\n                const backendEpisodes = await getEpisodes(id);\r\n                if (backendEpisodes && backendEpisodes.length > 0) {\r\n                    // Update anime with real episodes if available\r\n                    setAnime(prev => prev ? { ...prev, episodes: backendEpisodes.length } : null);\r\n                }\r\n\r\n                // Try to get existing progress\r\n                const history = await historyService.getHistory();\r\n                const current = history.find((h: any) => h.anime_id === id);\r\n                if (current) {\r\n                    setCurrentEpisode(parseInt(current.episode_id) || 1);\r\n                    setProgress(current.progress_seconds || 0);\r\n                }\r\n            } catch (err) {\r\n                console.error(\"Failed to fetch anime details\", err);\r\n            } finally {\r\n                setLoading(false);\r\n            }\r\n        };\r\n\r\n        fetchData();\r\n    }, [id, router]);\r\n\r\n    const handleToggleWatchlist = async () => {\r\n        if (!id) return;\r\n        try {\r\n            const added = await watchlistService.toggleWatchlist(id);\r\n            setInWatchlist(added);\r\n        } catch (err) {\r\n            console.error(\"Failed to toggle watchlist\", err);\r\n            router.push('/login');\r\n        }\r\n    };\r\n\r\n    const handleEpisodeClick = (ep: number) => {\r\n        setCurrentEpisode(ep);\r\n        if (id) {\r\n            historyService.updateProgress(id, ep.toString(), 0);\r\n        }\r\n    };\r\n\r\n    if (loading) {\r\n        return (\r\n            <div className=\"flex items-center justify-center min-h-[60vh]\">\r\n                <div className=\"w-12 h-12 border-4 border-brand-primary border-t-transparent rounded-full animate-spin\"></div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    if (!anime) return null;\r\n\r\n    return (\r\n        <div className=\"container mx-auto px-4 py-8\">\r\n            {/* breadcrumbs */}\r\n            <div className=\"flex items-center gap-2 text-xs text-gray-500 mb-6 uppercase tracking-widest font-bold\">\r\n                <button onClick={() => router.push('/')} className=\"hover:text-brand-primary transition-colors\">Home</button>\r\n                <i className=\"fa-solid fa-chevron-right text-[8px]\"></i>\r\n                <span className=\"text-gray-400\">{anime.type}</span>\r\n                <i className=\"fa-solid fa-chevron-right text-[8px]\"></i>\r\n                <span className=\"text-brand-primary\">{anime.title}</span>\r\n            </div>\r\n\r\n            <div className=\"grid grid-cols-1 lg:grid-cols-4 gap-8\">\r\n                {/* Player Column */}\r\n                <div className=\"lg:col-span-3 space-y-6\">\r\n                    {/* Video Player Placeholder */}\r\n                    <div className=\"aspect-video bg-black rounded-2xl overflow-hidden relative shadow-2xl border border-white/5 group\">\r\n                        <img\r\n                            src={anime.gallery ? anime.gallery[0] : anime.thumbnail}\r\n                            className=\"w-full h-full object-cover opacity-60 group-hover:scale-105 transition-transform duration-700\"\r\n                            alt=\"Player Background\"\r\n                        />\r\n                        <div className=\"absolute inset-0 flex flex-col items-center justify-center bg-black/20\">\r\n                            <motion.div\r\n                                initial={{ scale: 0.8, opacity: 0 }}\r\n                                animate={{ scale: 1, opacity: 1 }}\r\n                                className=\"w-24 h-24 rounded-full bg-brand-primary/20 backdrop-blur-md border border-brand-primary/50 flex items-center justify-center cursor-pointer hover:scale-110 transition-transform shadow-[0_0_50px_rgba(183,148,244,0.3)]\"\r\n                            >\r\n                                <i className=\"fa-solid fa-play text-4xl text-brand-primary animate-pulse\"></i>\r\n                            </motion.div>\r\n                            <p className=\"mt-8 text-white/90 font-black uppercase tracking-[0.3em] text-[10px] bg-black/60 px-6 py-2 rounded-full backdrop-blur-md\">\r\n                                Streaming Episode {currentEpisode}\r\n                            </p>\r\n                        </div>\r\n\r\n                        {/* Controls Placeholder */}\r\n                        <div className=\"absolute bottom-0 left-0 right-0 p-6 bg-gradient-to-t from-black/90 to-transparent flex items-center justify-between opacity-0 group-hover:opacity-100 transition-opacity\">\r\n                            <div className=\"flex items-center gap-6\">\r\n                                <i className=\"fa-solid fa-play cursor-pointer hover:text-brand-primary transition-colors\"></i>\r\n                                <i className=\"fa-solid fa-forward-step cursor-pointer hover:text-brand-primary transition-colors\"></i>\r\n                                <div className=\"flex items-center gap-3\">\r\n                                    <i className=\"fa-solid fa-volume-high text-xs opacity-50\"></i>\r\n                                    <div className=\"w-20 h-1 bg-white/10 rounded-full overflow-hidden\">\r\n                                        <div className=\"w-1/2 h-full bg-brand-primary\"></div>\r\n                                    </div>\r\n                                </div>\r\n                                <span className=\"text-[10px] font-mono opacity-50\">00:00 / 24:00</span>\r\n                            </div>\r\n                            <div className=\"flex items-center gap-6\">\r\n                                <i className=\"fa-solid fa-gear cursor-pointer hover:text-brand-primary transition-colors text-xs\"></i>\r\n                                <i className=\"fa-solid fa-expand cursor-pointer hover:text-brand-primary transition-colors text-xs\"></i>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* Info Section */}\r\n                    <div className=\"bg-white/5 border border-white/5 rounded-3xl p-8 flex flex-col md:flex-row gap-8\">\r\n                        <div className=\"w-32 h-48 rounded-xl overflow-hidden shadow-2xl flex-shrink-0 order-2 md:order-1 self-center md:self-start\">\r\n                            <img src={anime.thumbnail} className=\"w-full h-full object-cover\" alt={anime.title} />\r\n                        </div>\r\n                        <div className=\"flex-1 order-1 md:order-2\">\r\n                            <div className=\"flex flex-wrap items-center gap-3 mb-4\">\r\n                                <span className=\"bg-brand-primary/20 text-brand-primary px-3 py-1 rounded-full text-[10px] font-black uppercase tracking-widest\">{anime.status}</span>\r\n                                <span className=\"bg-white/5 text-gray-400 px-3 py-1 rounded-full text-[10px] font-black uppercase tracking-widest\">{anime.type}</span>\r\n                                <div className=\"flex items-center gap-1.5 text-yellow-500 bg-yellow-500/10 px-3 py-1 rounded-full\">\r\n                                    <i className=\"fa-solid fa-star text-[10px]\"></i>\r\n                                    <span className=\"text-[10px] font-black\">{anime.rating}</span>\r\n                                </div>\r\n                            </div>\r\n                            <h1 className=\"text-3xl md:text-4xl font-black uppercase tracking-tighter mb-4 leading-tight\">\r\n                                {anime.title || 'Untitled Anime'}\r\n                            </h1>\r\n                            <p className=\"text-gray-400 text-sm leading-relaxed mb-6 line-clamp-3 hover:line-clamp-none transition-all duration-500\">\r\n                                {anime.description || 'No description available for this verse.'}\r\n                            </p>\r\n                            <div className=\"flex items-center gap-4\">\r\n                                <button\r\n                                    onClick={handleToggleWatchlist}\r\n                                    className={`flex-1 md:flex-none flex items-center justify-center gap-2 px-8 py-3 rounded-full text-xs font-black uppercase tracking-widest transition-all ${inWatchlist\r\n                                        ? 'bg-white/10 text-white hover:bg-white/20'\r\n                                        : 'bg-brand-primary text-[#0f1011] hover:bg-[#cbb2f9]'\r\n                                        }`}\r\n                                >\r\n                                    <i className={`fa-solid ${inWatchlist ? 'fa-check' : 'fa-plus'}`}></i>\r\n                                    {inWatchlist ? 'Watchlist' : 'Add to List'}\r\n                                </button>\r\n                                <button className=\"w-12 h-12 flex items-center justify-center rounded-full bg-white/5 text-white hover:text-brand-primary transition-colors border border-white/5\">\r\n                                    <i className=\"fa-solid fa-share-nodes\"></i>\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Sidebar Column */}\r\n                <div className=\"space-y-8\">\r\n                    {/* Episodes List */}\r\n                    <div className=\"bg-white/5 border border-white/5 rounded-3xl overflow-hidden\">\r\n                        <div className=\"p-6 border-b border-white/5 flex items-center justify-between\">\r\n                            <h2 className=\"text-sm font-black uppercase tracking-widest flex items-center gap-3\">\r\n                                <i className=\"fa-solid fa-list-ul text-brand-primary\"></i>\r\n                                Episodes\r\n                            </h2>\r\n                            <span className=\"text-[10px] font-black text-gray-500\">1-{anime.episodes}</span>\r\n                        </div>\r\n                        <div className=\"grid grid-cols-4 sm:grid-cols-6 lg:grid-cols-4 gap-2 p-6 max-h-[400px] overflow-y-auto custom-scrollbar\">\r\n                            {Array.from({ length: anime.episodes || 12 }).map((_, i) => {\r\n                                const ep = i + 1;\r\n                                const isActive = ep === currentEpisode;\r\n                                return (\r\n                                    <button\r\n                                        key={ep}\r\n                                        onClick={() => handleEpisodeClick(ep)}\r\n                                        className={`aspect-square flex items-center justify-center rounded-lg text-xs font-bold transition-all ${isActive\r\n                                            ? 'bg-brand-primary text-[#0f1011] shadow-lg shadow-brand-primary/20 scale-105'\r\n                                            : 'bg-white/5 text-gray-500 hover:bg-white/10 hover:text-white'\r\n                                            }`}\r\n                                    >\r\n                                        {ep}\r\n                                    </button>\r\n                                );\r\n                            })}\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* Framer Shots (Gallery) */}\r\n                    <div className=\"bg-white/5 border border-white/5 rounded-3xl p-6\">\r\n                        <h2 className=\"text-sm font-black uppercase tracking-widest flex items-center gap-3 mb-6\">\r\n                            <i className=\"fa-solid fa-camera-retro text-brand-primary\"></i>\r\n                            Framer Shots\r\n                        </h2>\r\n                        <div className=\"grid grid-cols-1 gap-4\">\r\n                            {(anime.gallery || []).slice(1).map((shot, i) => (\r\n                                <div key={i} className=\"aspect-video rounded-xl overflow-hidden border border-white/5 group/shot\">\r\n                                    <img src={shot} className=\"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500\" alt=\"Shot\" />\r\n                                </div>\r\n                            ))}\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* Genres */}\r\n                    <div className=\"bg-white/5 border border-white/5 rounded-3xl p-6\">\r\n                        <h2 className=\"text-sm font-black uppercase tracking-widest flex items-center gap-3 mb-6\">\r\n                            <i className=\"fa-solid fa-tags text-brand-primary\"></i>\r\n                            Genres\r\n                        </h2>\r\n                        <div className=\"flex flex-wrap gap-2\">\r\n                            {anime.genres.map(genre => (\r\n                                <span key={genre} className=\"px-4 py-2 bg-white/5 rounded-xl text-[10px] font-bold text-gray-400 hover:bg-brand-primary/10 hover:text-brand-primary transition-all cursor-pointer border border-white/5\">\r\n                                    {genre}\r\n                                </span>\r\n                            ))}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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"}}]
}