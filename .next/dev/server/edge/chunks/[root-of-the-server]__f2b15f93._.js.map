{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 16, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/middleware.ts"],"sourcesContent":["import { createMiddlewareClient } from '@supabase/auth-helpers-nextjs';\r\nimport { NextResponse } from 'next/server';\r\nimport type { NextRequest } from 'next/server';\r\n\r\nexport async function middleware(req: NextRequest) {\r\n    const res = NextResponse.next();\r\n    const supabase = createMiddlewareClient({ req, res });\r\n\r\n    const {\r\n        data: { session },\r\n    } = await supabase.auth.getSession();\r\n\r\n    // Protected routes list\r\n    const protectedRoutes = ['/watchlist', '/history'];\r\n    const isProtectedRoute = protectedRoutes.some((route) => req.nextUrl.pathname.startsWith(route));\r\n\r\n    if (isProtectedRoute && !session) {\r\n        const url = req.nextUrl.clone();\r\n        url.pathname = '/login';\r\n        url.searchParams.set('redirectedFrom', req.nextUrl.pathname);\r\n        return NextResponse.redirect(url);\r\n    }\r\n\r\n    return res;\r\n}\r\n\r\nexport const config = {\r\n    matcher: ['/watchlist/:path*', '/history/:path*'],\r\n};\r\n"],"names":[],"mappings":";;;;;;AAAA;AACA;AAAA;;;AAGO,eAAe,WAAW,GAAgB;IAC7C,MAAM,MAAM,gMAAY,CAAC,IAAI;IAC7B,MAAM,WAAW,IAAA,0MAAsB,EAAC;QAAE;QAAK;IAAI;IAEnD,MAAM,EACF,MAAM,EAAE,OAAO,EAAE,EACpB,GAAG,MAAM,SAAS,IAAI,CAAC,UAAU;IAElC,wBAAwB;IACxB,MAAM,kBAAkB;QAAC;QAAc;KAAW;IAClD,MAAM,mBAAmB,gBAAgB,IAAI,CAAC,CAAC,QAAU,IAAI,OAAO,CAAC,QAAQ,CAAC,UAAU,CAAC;IAEzF,IAAI,oBAAoB,CAAC,SAAS;QAC9B,MAAM,MAAM,IAAI,OAAO,CAAC,KAAK;QAC7B,IAAI,QAAQ,GAAG;QACf,IAAI,YAAY,CAAC,GAAG,CAAC,kBAAkB,IAAI,OAAO,CAAC,QAAQ;QAC3D,OAAO,gMAAY,CAAC,QAAQ,CAAC;IACjC;IAEA,OAAO;AACX;AAEO,MAAM,SAAS;IAClB,SAAS;QAAC;QAAqB;KAAkB;AACrD"}}]
}